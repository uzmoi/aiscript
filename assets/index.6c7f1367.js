const ra=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}};ra();function Nn(e,t){const r=Object.create(null),n=e.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return t?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const ye={},Ut=[],nt=()=>{},na=()=>!1,sa=/^on[^a-z]/,Ur=e=>sa.test(e),Tn=e=>e.startsWith("onUpdate:"),Me=Object.assign,Ln=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},ia=Object.prototype.hasOwnProperty,ie=(e,t)=>ia.call(e,t),Y=Array.isArray,Ht=e=>Hr(e)==="[object Map]",Ys=e=>Hr(e)==="[object Set]",Q=e=>typeof e=="function",Ce=e=>typeof e=="string",Dn=e=>typeof e=="symbol",xe=e=>e!==null&&typeof e=="object",Js=e=>xe(e)&&Q(e.then)&&Q(e.catch),Zs=Object.prototype.toString,Hr=e=>Zs.call(e),aa=e=>Hr(e).slice(8,-1),Xs=e=>Hr(e)==="[object Object]",Rn=e=>Ce(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Mr=Nn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zr=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},oa=/-(\w)/g,Zt=zr(e=>e.replace(oa,(t,r)=>r?r.toUpperCase():"")),la=/\B([A-Z])/g,er=zr(e=>e.replace(la,"-$1").toLowerCase()),Gs=zr(e=>e.charAt(0).toUpperCase()+e.slice(1)),tn=zr(e=>e?`on${Gs(e)}`:""),hr=(e,t)=>!Object.is(e,t),rn=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Lr=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},ua=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let as;const dn=()=>as||(as=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Bn(e){if(Y(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ce(n)?pa(n):Bn(n);if(s)for(const i in s)t[i]=s[i]}return t}else{if(Ce(e))return e;if(xe(e))return e}}const ca=/;(?![^(]*\))/g,fa=/:([^]+)/,ha=/\/\*[^]*?\*\//g;function pa(e){const t={};return e.replace(ha,"").split(ca).forEach(r=>{if(r){const n=r.split(fa);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Wr(e){let t="";if(Ce(e))t=e;else if(Y(e))for(let r=0;r<e.length;r++){const n=Wr(e[r]);n&&(t+=n+" ")}else if(xe(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const da="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ga=Nn(da);function Qs(e){return!!e||e===""}const sr=e=>Ce(e)?e:e==null?"":Y(e)||xe(e)&&(e.toString===Zs||!Q(e.toString))?JSON.stringify(e,ei,2):String(e),ei=(e,t)=>t&&t.__v_isRef?ei(e,t.value):Ht(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:Ys(t)?{[`Set(${t.size})`]:[...t.values()]}:xe(t)&&!Y(t)&&!Xs(t)?String(t):t;let Qe;class ma{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qe,!t&&Qe&&(this.index=(Qe.scopes||(Qe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=Qe;try{return Qe=this,t()}finally{Qe=r}}}on(){Qe=this}off(){Qe=this.parent}stop(t){if(this._active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function va(e,t=Qe){t&&t.active&&t.effects.push(e)}function ya(){return Qe}const jn=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ti=e=>(e.w&_t)>0,ri=e=>(e.n&_t)>0,xa=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=_t},wa=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const s=t[n];ti(s)&&!ri(s)?s.delete(e):t[r++]=s,s.w&=~_t,s.n&=~_t}t.length=r}},gn=new WeakMap;let ar=0,_t=1;const mn=30;let tt;const Mt=Symbol(""),vn=Symbol("");class Kn{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,va(this,n)}run(){if(!this.active)return this.fn();let t=tt,r=xt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=tt,tt=this,xt=!0,_t=1<<++ar,ar<=mn?xa(this):os(this),this.fn()}finally{ar<=mn&&wa(this),_t=1<<--ar,tt=this.parent,xt=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){tt===this?this.deferStop=!0:this.active&&(os(this),this.onStop&&this.onStop(),this.active=!1)}}function os(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let xt=!0;const ni=[];function tr(){ni.push(xt),xt=!1}function rr(){const e=ni.pop();xt=e===void 0?!0:e}function Ue(e,t,r){if(xt&&tt){let n=gn.get(e);n||gn.set(e,n=new Map);let s=n.get(r);s||n.set(r,s=jn()),si(s)}}function si(e,t){let r=!1;ar<=mn?ri(e)||(e.n|=_t,r=!ti(e)):r=!e.has(tt),r&&(e.add(tt),tt.deps.push(e))}function dt(e,t,r,n,s,i){const o=gn.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(r==="length"&&Y(e)){const l=Number(n);o.forEach((c,m)=>{(m==="length"||m>=l)&&a.push(c)})}else switch(r!==void 0&&a.push(o.get(r)),t){case"add":Y(e)?Rn(r)&&a.push(o.get("length")):(a.push(o.get(Mt)),Ht(e)&&a.push(o.get(vn)));break;case"delete":Y(e)||(a.push(o.get(Mt)),Ht(e)&&a.push(o.get(vn)));break;case"set":Ht(e)&&a.push(o.get(Mt));break}if(a.length===1)a[0]&&yn(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);yn(jn(l))}}function yn(e,t){const r=Y(e)?e:[...e];for(const n of r)n.computed&&ls(n);for(const n of r)n.computed||ls(n)}function ls(e,t){(e!==tt||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const ba=Nn("__proto__,__v_isRef,__isVue"),ii=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Dn)),_a=qn(),Ea=qn(!1,!0),Ca=qn(!0),us=Aa();function Aa(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=ae(this);for(let i=0,o=this.length;i<o;i++)Ue(n,"get",i+"");const s=n[t](...r);return s===-1||s===!1?n[t](...r.map(ae)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){tr();const n=ae(this)[t].apply(this,r);return rr(),n}}),e}function Pa(e){const t=ae(this);return Ue(t,"has",e),t.hasOwnProperty(e)}function qn(e=!1,t=!1){return function(n,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&i===(e?t?qa:ci:t?ui:li).get(n))return n;const o=Y(n);if(!e){if(o&&ie(us,s))return Reflect.get(us,s,i);if(s==="hasOwnProperty")return Pa}const a=Reflect.get(n,s,i);return(Dn(s)?ii.has(s):ba(s))||(e||Ue(n,"get",s),t)?a:De(a)?o&&Rn(s)?a:a.value:xe(a)?e?fi(a):zn(a):a}}const ka=ai(),Fa=ai(!0);function ai(e=!1){return function(r,n,s,i){let o=r[n];if(Xt(o)&&De(o)&&!De(s))return!1;if(!e&&(!Dr(s)&&!Xt(s)&&(o=ae(o),s=ae(s)),!Y(r)&&De(o)&&!De(s)))return o.value=s,!0;const a=Y(r)&&Rn(n)?Number(n)<r.length:ie(r,n),l=Reflect.set(r,n,s,i);return r===ae(i)&&(a?hr(s,o)&&dt(r,"set",n,s):dt(r,"add",n,s)),l}}function Ma(e,t){const r=ie(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&dt(e,"delete",t,void 0),n}function Sa(e,t){const r=Reflect.has(e,t);return(!Dn(t)||!ii.has(t))&&Ue(e,"has",t),r}function $a(e){return Ue(e,"iterate",Y(e)?"length":Mt),Reflect.ownKeys(e)}const oi={get:_a,set:ka,deleteProperty:Ma,has:Sa,ownKeys:$a},Oa={get:Ca,set(e,t){return!0},deleteProperty(e,t){return!0}},Ia=Me({},oi,{get:Ea,set:Fa}),Un=e=>e,Vr=e=>Reflect.getPrototypeOf(e);function xr(e,t,r=!1,n=!1){e=e.__v_raw;const s=ae(e),i=ae(t);r||(t!==i&&Ue(s,"get",t),Ue(s,"get",i));const{has:o}=Vr(s),a=n?Un:r?Vn:pr;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function wr(e,t=!1){const r=this.__v_raw,n=ae(r),s=ae(e);return t||(e!==s&&Ue(n,"has",e),Ue(n,"has",s)),e===s?r.has(e):r.has(e)||r.has(s)}function br(e,t=!1){return e=e.__v_raw,!t&&Ue(ae(e),"iterate",Mt),Reflect.get(e,"size",e)}function cs(e){e=ae(e);const t=ae(this);return Vr(t).has.call(t,e)||(t.add(e),dt(t,"add",e,e)),this}function fs(e,t){t=ae(t);const r=ae(this),{has:n,get:s}=Vr(r);let i=n.call(r,e);i||(e=ae(e),i=n.call(r,e));const o=s.call(r,e);return r.set(e,t),i?hr(t,o)&&dt(r,"set",e,t):dt(r,"add",e,t),this}function hs(e){const t=ae(this),{has:r,get:n}=Vr(t);let s=r.call(t,e);s||(e=ae(e),s=r.call(t,e)),n&&n.call(t,e);const i=t.delete(e);return s&&dt(t,"delete",e,void 0),i}function ps(){const e=ae(this),t=e.size!==0,r=e.clear();return t&&dt(e,"clear",void 0,void 0),r}function _r(e,t){return function(n,s){const i=this,o=i.__v_raw,a=ae(o),l=t?Un:e?Vn:pr;return!e&&Ue(a,"iterate",Mt),o.forEach((c,m)=>n.call(s,l(c),l(m),i))}}function Er(e,t,r){return function(...n){const s=this.__v_raw,i=ae(s),o=Ht(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...n),m=r?Un:t?Vn:pr;return!t&&Ue(i,"iterate",l?vn:Mt),{next(){const{value:g,done:x}=c.next();return x?{value:g,done:x}:{value:a?[m(g[0]),m(g[1])]:m(g),done:x}},[Symbol.iterator](){return this}}}}function vt(e){return function(...t){return e==="delete"?!1:this}}function Na(){const e={get(i){return xr(this,i)},get size(){return br(this)},has:wr,add:cs,set:fs,delete:hs,clear:ps,forEach:_r(!1,!1)},t={get(i){return xr(this,i,!1,!0)},get size(){return br(this)},has:wr,add:cs,set:fs,delete:hs,clear:ps,forEach:_r(!1,!0)},r={get(i){return xr(this,i,!0)},get size(){return br(this,!0)},has(i){return wr.call(this,i,!0)},add:vt("add"),set:vt("set"),delete:vt("delete"),clear:vt("clear"),forEach:_r(!0,!1)},n={get(i){return xr(this,i,!0,!0)},get size(){return br(this,!0)},has(i){return wr.call(this,i,!0)},add:vt("add"),set:vt("set"),delete:vt("delete"),clear:vt("clear"),forEach:_r(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Er(i,!1,!1),r[i]=Er(i,!0,!1),t[i]=Er(i,!1,!0),n[i]=Er(i,!0,!0)}),[e,r,t,n]}const[Ta,La,Da,Ra]=Na();function Hn(e,t){const r=t?e?Ra:Da:e?La:Ta;return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(ie(r,s)&&s in n?r:n,s,i)}const Ba={get:Hn(!1,!1)},ja={get:Hn(!1,!0)},Ka={get:Hn(!0,!1)},li=new WeakMap,ui=new WeakMap,ci=new WeakMap,qa=new WeakMap;function Ua(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ha(e){return e.__v_skip||!Object.isExtensible(e)?0:Ua(aa(e))}function zn(e){return Xt(e)?e:Wn(e,!1,oi,Ba,li)}function za(e){return Wn(e,!1,Ia,ja,ui)}function fi(e){return Wn(e,!0,Oa,Ka,ci)}function Wn(e,t,r,n,s){if(!xe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Ha(e);if(o===0)return e;const a=new Proxy(e,o===2?n:r);return s.set(e,a),a}function zt(e){return Xt(e)?zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Xt(e){return!!(e&&e.__v_isReadonly)}function Dr(e){return!!(e&&e.__v_isShallow)}function hi(e){return zt(e)||Xt(e)}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function pi(e){return Lr(e,"__v_skip",!0),e}const pr=e=>xe(e)?zn(e):e,Vn=e=>xe(e)?fi(e):e;function di(e){xt&&tt&&(e=ae(e),si(e.dep||(e.dep=jn())))}function gi(e,t){e=ae(e);const r=e.dep;r&&yn(r)}function De(e){return!!(e&&e.__v_isRef===!0)}function Cr(e){return Wa(e,!1)}function Wa(e,t){return De(e)?e:new Va(e,t)}class Va{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:ae(t),this._value=r?t:pr(t)}get value(){return di(this),this._value}set value(t){const r=this.__v_isShallow||Dr(t)||Xt(t);t=r?t:ae(t),hr(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:pr(t),gi(this))}}function xn(e){return De(e)?e.value:e}const Ya={get:(e,t,r)=>xn(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return De(s)&&!De(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function mi(e){return zt(e)?e:new Proxy(e,Ya)}class Ja{constructor(t,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Kn(t,()=>{this._dirty||(this._dirty=!0,gi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const t=ae(this);return di(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Za(e,t,r=!1){let n,s;const i=Q(e);return i?(n=e,s=nt):(n=e.get,s=e.set),new Ja(n,s,i||!s,r)}function wt(e,t,r,n){let s;try{s=n?e(...n):e()}catch(i){Yr(i,t,r)}return s}function st(e,t,r,n){if(Q(e)){const i=wt(e,t,r,n);return i&&Js(i)&&i.catch(o=>{Yr(o,t,r)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(st(e[i],t,r,n));return s}function Yr(e,t,r,n=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=r;for(;i;){const c=i.ec;if(c){for(let m=0;m<c.length;m++)if(c[m](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){wt(l,null,10,[e,o,a]);return}}Xa(e,r,s,n)}function Xa(e,t,r,n=!0){console.error(e)}let dr=!1,wn=!1;const Te=[];let ct=0;const Wt=[];let pt=null,kt=0;const vi=Promise.resolve();let Yn=null;function Ga(e){const t=Yn||vi;return e?t.then(this?e.bind(this):e):t}function Qa(e){let t=ct+1,r=Te.length;for(;t<r;){const n=t+r>>>1;gr(Te[n])<e?t=n+1:r=n}return t}function Jn(e){(!Te.length||!Te.includes(e,dr&&e.allowRecurse?ct+1:ct))&&(e.id==null?Te.push(e):Te.splice(Qa(e.id),0,e),yi())}function yi(){!dr&&!wn&&(wn=!0,Yn=vi.then(wi))}function eo(e){const t=Te.indexOf(e);t>ct&&Te.splice(t,1)}function to(e){Y(e)?Wt.push(...e):(!pt||!pt.includes(e,e.allowRecurse?kt+1:kt))&&Wt.push(e),yi()}function ds(e,t=dr?ct+1:0){for(;t<Te.length;t++){const r=Te[t];r&&r.pre&&(Te.splice(t,1),t--,r())}}function xi(e){if(Wt.length){const t=[...new Set(Wt)];if(Wt.length=0,pt){pt.push(...t);return}for(pt=t,pt.sort((r,n)=>gr(r)-gr(n)),kt=0;kt<pt.length;kt++)pt[kt]();pt=null,kt=0}}const gr=e=>e.id==null?1/0:e.id,ro=(e,t)=>{const r=gr(e)-gr(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function wi(e){wn=!1,dr=!0,Te.sort(ro);const t=nt;try{for(ct=0;ct<Te.length;ct++){const r=Te[ct];r&&r.active!==!1&&wt(r,null,14)}}finally{ct=0,Te.length=0,xi(),dr=!1,Yn=null,(Te.length||Wt.length)&&wi()}}function no(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ye;let s=r;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in n){const m=`${o==="modelValue"?"model":o}Modifiers`,{number:g,trim:x}=n[m]||ye;x&&(s=r.map(_=>Ce(_)?_.trim():_)),g&&(s=r.map(ua))}let a,l=n[a=tn(t)]||n[a=tn(Zt(t))];!l&&i&&(l=n[a=tn(er(t))]),l&&st(l,e,6,s);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,st(c,e,6,s)}}function bi(e,t,r=!1){const n=t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!Q(e)){const l=c=>{const m=bi(c,t,!0);m&&(a=!0,Me(o,m))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(xe(e)&&n.set(e,null),null):(Y(i)?i.forEach(l=>o[l]=null):Me(o,i),xe(e)&&n.set(e,o),o)}function Jr(e,t){return!e||!Ur(t)?!1:(t=t.slice(2).replace(/Once$/,""),ie(e,t[0].toLowerCase()+t.slice(1))||ie(e,er(t))||ie(e,t))}let ft=null,_i=null;function Rr(e){const t=ft;return ft=e,_i=e&&e.type.__scopeId||null,t}function so(e,t=ft,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Cs(-1);const i=Rr(t);let o;try{o=e(...s)}finally{Rr(i),n._d&&Cs(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function nn(e){const{type:t,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:m,renderCache:g,data:x,setupState:_,ctx:N,inheritAttrs:T}=e;let B,z;const p=Rr(e);try{if(r.shapeFlag&4){const h=s||n;B=ut(m.call(h,h,g,i,_,x,N)),z=l}else{const h=t;B=ut(h.length>1?h(i,{attrs:l,slots:a,emit:c}):h(i,null)),z=t.props?l:io(l)}}catch(h){cr.length=0,Yr(h,e,1),B=qe(Ot)}let f=B;if(z&&T!==!1){const h=Object.keys(z),{shapeFlag:y}=f;h.length&&y&7&&(o&&h.some(Tn)&&(z=ao(z,o)),f=Gt(f,z))}return r.dirs&&(f=Gt(f),f.dirs=f.dirs?f.dirs.concat(r.dirs):r.dirs),r.transition&&(f.transition=r.transition),B=f,Rr(p),B}const io=e=>{let t;for(const r in e)(r==="class"||r==="style"||Ur(r))&&((t||(t={}))[r]=e[r]);return t},ao=(e,t)=>{const r={};for(const n in e)(!Tn(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function oo(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?gs(n,o,c):!!o;if(l&8){const m=t.dynamicProps;for(let g=0;g<m.length;g++){const x=m[g];if(o[x]!==n[x]&&!Jr(c,x))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?gs(n,o,c):!0:!!o;return!1}function gs(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!Jr(r,i))return!0}return!1}function lo({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const uo=e=>e.__isSuspense;function co(e,t){t&&t.pendingBranch?Y(e)?t.effects.push(...e):t.effects.push(e):to(e)}const Ar={};function Sr(e,t,r){return Ei(e,t,r)}function Ei(e,t,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=ye){var a;const l=ya()===((a=Le)==null?void 0:a.scope)?Le:null;let c,m=!1,g=!1;if(De(e)?(c=()=>e.value,m=Dr(e)):zt(e)?(c=()=>e,n=!0):Y(e)?(g=!0,m=e.some(h=>zt(h)||Dr(h)),c=()=>e.map(h=>{if(De(h))return h.value;if(zt(h))return Kt(h);if(Q(h))return wt(h,l,2)})):Q(e)?t?c=()=>wt(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return x&&x(),st(e,l,3,[_])}:c=nt,t&&n){const h=c;c=()=>Kt(h())}let x,_=h=>{x=p.onStop=()=>{wt(h,l,4)}},N;if(vr)if(_=nt,t?r&&st(t,l,3,[c(),g?[]:void 0,_]):c(),s==="sync"){const h=ll();N=h.__watcherHandles||(h.__watcherHandles=[])}else return nt;let T=g?new Array(e.length).fill(Ar):Ar;const B=()=>{if(!!p.active)if(t){const h=p.run();(n||m||(g?h.some((y,w)=>hr(y,T[w])):hr(h,T)))&&(x&&x(),st(t,l,3,[h,T===Ar?void 0:g&&T[0]===Ar?[]:T,_]),T=h)}else p.run()};B.allowRecurse=!!t;let z;s==="sync"?z=B:s==="post"?z=()=>Ke(B,l&&l.suspense):(B.pre=!0,l&&(B.id=l.uid),z=()=>Jn(B));const p=new Kn(c,z);t?r?B():T=p.run():s==="post"?Ke(p.run.bind(p),l&&l.suspense):p.run();const f=()=>{p.stop(),l&&l.scope&&Ln(l.scope.effects,p)};return N&&N.push(f),f}function fo(e,t,r){const n=this.proxy,s=Ce(e)?e.includes(".")?Ci(n,e):()=>n[e]:e.bind(n,n);let i;Q(t)?i=t:(i=t.handler,r=t);const o=Le;Qt(this);const a=Ei(s,i.bind(n),r);return o?Qt(o):St(),a}function Ci(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Kt(e,t){if(!xe(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),De(e))Kt(e.value,t);else if(Y(e))for(let r=0;r<e.length;r++)Kt(e[r],t);else if(Ys(e)||Ht(e))e.forEach(r=>{Kt(r,t)});else if(Xs(e))for(const r in e)Kt(e[r],t);return e}function Ct(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(tr(),st(l,r,8,[e.el,a,e,t]),rr())}}function ho(e,t){return Q(e)?(()=>Me({name:e.name},t,{setup:e}))():e}const $r=e=>!!e.type.__asyncLoader,Ai=e=>e.type.__isKeepAlive;function po(e,t){Pi(e,"a",t)}function go(e,t){Pi(e,"da",t)}function Pi(e,t,r=Le){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Zr(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Ai(s.parent.vnode)&&mo(n,t,r,s),s=s.parent}}function mo(e,t,r,n){const s=Zr(t,e,n,!0);ki(()=>{Ln(n[t],s)},r)}function Zr(e,t,r=Le,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;tr(),Qt(r);const a=st(t,r,e,o);return St(),rr(),a});return n?s.unshift(i):s.push(i),i}}const gt=e=>(t,r=Le)=>(!vr||e==="sp")&&Zr(e,(...n)=>t(...n),r),vo=gt("bm"),yo=gt("m"),xo=gt("bu"),wo=gt("u"),bo=gt("bum"),ki=gt("um"),_o=gt("sp"),Eo=gt("rtg"),Co=gt("rtc");function Ao(e,t=Le){Zr("ec",e,t)}const Po=Symbol.for("v-ndc");function ko(e,t,r,n){let s;const i=r&&r[n];if(Y(e)||Ce(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(xe(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return r&&(r[n]=s),s}const bn=e=>e?Ri(e)?es(e)||e.proxy:bn(e.parent):null,ur=Me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bn(e.parent),$root:e=>bn(e.root),$emit:e=>e.emit,$options:e=>Zn(e),$forceUpdate:e=>e.f||(e.f=()=>Jn(e.update)),$nextTick:e=>e.n||(e.n=Ga.bind(e.proxy)),$watch:e=>fo.bind(e)}),sn=(e,t)=>e!==ye&&!e.__isScriptSetup&&ie(e,t),Fo={get({_:e},t){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const _=o[t];if(_!==void 0)switch(_){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(sn(n,t))return o[t]=1,n[t];if(s!==ye&&ie(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&ie(c,t))return o[t]=3,i[t];if(r!==ye&&ie(r,t))return o[t]=4,r[t];_n&&(o[t]=0)}}const m=ur[t];let g,x;if(m)return t==="$attrs"&&Ue(e,"get",t),m(e);if((g=a.__cssModules)&&(g=g[t]))return g;if(r!==ye&&ie(r,t))return o[t]=4,r[t];if(x=l.config.globalProperties,ie(x,t))return x[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return sn(s,t)?(s[t]=r,!0):n!==ye&&ie(n,t)?(n[t]=r,!0):ie(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||e!==ye&&ie(e,o)||sn(t,o)||(a=i[0])&&ie(a,o)||ie(n,o)||ie(ur,o)||ie(s.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:ie(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function ms(e){return Y(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let _n=!0;function Mo(e){const t=Zn(e),r=e.proxy,n=e.ctx;_n=!1,t.beforeCreate&&vs(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:m,beforeMount:g,mounted:x,beforeUpdate:_,updated:N,activated:T,deactivated:B,beforeDestroy:z,beforeUnmount:p,destroyed:f,unmounted:h,render:y,renderTracked:w,renderTriggered:E,errorCaptured:S,serverPrefetch:A,expose:K,inheritAttrs:q,components:X,directives:fe,filters:Ae}=t;if(c&&So(c,n,null),o)for(const ue in o){const U=o[ue];Q(U)&&(n[ue]=U.bind(r))}if(s){const ue=s.call(r,r);xe(ue)&&(e.data=zn(ue))}if(_n=!0,i)for(const ue in i){const U=i[ue],le=Q(U)?U.bind(r,r):Q(U.get)?U.get.bind(r,r):nt,Pe=!Q(U)&&Q(U.set)?U.set.bind(r):nt,Se=al({get:le,set:Pe});Object.defineProperty(n,ue,{enumerable:!0,configurable:!0,get:()=>Se.value,set:se=>Se.value=se})}if(a)for(const ue in a)Fi(a[ue],n,r,ue);if(l){const ue=Q(l)?l.call(r):l;Reflect.ownKeys(ue).forEach(U=>{Lo(U,ue[U])})}m&&vs(m,e,"c");function me(ue,U){Y(U)?U.forEach(le=>ue(le.bind(r))):U&&ue(U.bind(r))}if(me(vo,g),me(yo,x),me(xo,_),me(wo,N),me(po,T),me(go,B),me(Ao,S),me(Co,w),me(Eo,E),me(bo,p),me(ki,h),me(_o,A),Y(K))if(K.length){const ue=e.exposed||(e.exposed={});K.forEach(U=>{Object.defineProperty(ue,U,{get:()=>r[U],set:le=>r[U]=le})})}else e.exposed||(e.exposed={});y&&e.render===nt&&(e.render=y),q!=null&&(e.inheritAttrs=q),X&&(e.components=X),fe&&(e.directives=fe)}function So(e,t,r=nt){Y(e)&&(e=En(e));for(const n in e){const s=e[n];let i;xe(s)?"default"in s?i=Or(s.from||n,s.default,!0):i=Or(s.from||n):i=Or(s),De(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function vs(e,t,r){st(Y(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Fi(e,t,r,n){const s=n.includes(".")?Ci(r,n):()=>r[n];if(Ce(e)){const i=t[e];Q(i)&&Sr(s,i)}else if(Q(e))Sr(s,e.bind(r));else if(xe(e))if(Y(e))e.forEach(i=>Fi(i,t,r,n));else{const i=Q(e.handler)?e.handler.bind(r):t[e.handler];Q(i)&&Sr(s,i,e)}}function Zn(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(c=>Br(l,c,o,!0)),Br(l,t,o)),xe(t)&&i.set(t,l),l}function Br(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&Br(e,i,r,!0),s&&s.forEach(o=>Br(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=$o[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const $o={data:ys,props:xs,emits:xs,methods:or,computed:or,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:or,directives:or,watch:Io,provide:ys,inject:Oo};function ys(e,t){return t?e?function(){return Me(Q(e)?e.call(this,this):e,Q(t)?t.call(this,this):t)}:t:e}function Oo(e,t){return or(En(e),En(t))}function En(e){if(Y(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function or(e,t){return e?Me(Object.create(null),e,t):t}function xs(e,t){return e?Y(e)&&Y(t)?[...new Set([...e,...t])]:Me(Object.create(null),ms(e),ms(t??{})):t}function Io(e,t){if(!e)return t;if(!t)return e;const r=Me(Object.create(null),e);for(const n in t)r[n]=Be(e[n],t[n]);return r}function Mi(){return{app:null,config:{isNativeTag:na,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let No=0;function To(e,t){return function(n,s=null){Q(n)||(n=Me({},n)),s!=null&&!xe(s)&&(s=null);const i=Mi(),o=new Set;let a=!1;const l=i.app={_uid:No++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:ul,get config(){return i.config},set config(c){},use(c,...m){return o.has(c)||(c&&Q(c.install)?(o.add(c),c.install(l,...m)):Q(c)&&(o.add(c),c(l,...m))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,m){return m?(i.components[c]=m,l):i.components[c]},directive(c,m){return m?(i.directives[c]=m,l):i.directives[c]},mount(c,m,g){if(!a){const x=qe(n,s);return x.appContext=i,m&&t?t(x,c):e(x,c,g),a=!0,l._container=c,c.__vue_app__=l,es(x.component)||x.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,m){return i.provides[c]=m,l},runWithContext(c){jr=l;try{return c()}finally{jr=null}}};return l}}let jr=null;function Lo(e,t){if(Le){let r=Le.provides;const n=Le.parent&&Le.parent.provides;n===r&&(r=Le.provides=Object.create(n)),r[e]=t}}function Or(e,t,r=!1){const n=Le||ft;if(n||jr){const s=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:jr._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return r&&Q(t)?t.call(n&&n.proxy):t}}function Do(e,t,r,n=!1){const s={},i={};Lr(i,Gr,1),e.propsDefaults=Object.create(null),Si(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:za(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function Ro(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ae(s),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const m=e.vnode.dynamicProps;for(let g=0;g<m.length;g++){let x=m[g];if(Jr(e.emitsOptions,x))continue;const _=t[x];if(l)if(ie(i,x))_!==i[x]&&(i[x]=_,c=!0);else{const N=Zt(x);s[N]=Cn(l,a,N,_,e,!1)}else _!==i[x]&&(i[x]=_,c=!0)}}}else{Si(e,t,s,i)&&(c=!0);let m;for(const g in a)(!t||!ie(t,g)&&((m=er(g))===g||!ie(t,m)))&&(l?r&&(r[g]!==void 0||r[m]!==void 0)&&(s[g]=Cn(l,a,g,void 0,e,!0)):delete s[g]);if(i!==a)for(const g in i)(!t||!ie(t,g)&&!0)&&(delete i[g],c=!0)}c&&dt(e,"set","$attrs")}function Si(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Mr(l))continue;const c=t[l];let m;s&&ie(s,m=Zt(l))?!i||!i.includes(m)?r[m]=c:(a||(a={}))[m]=c:Jr(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=ae(r),c=a||ye;for(let m=0;m<i.length;m++){const g=i[m];r[g]=Cn(s,l,g,c[g],e,!ie(c,g))}}return o}function Cn(e,t,r,n,s,i){const o=e[r];if(o!=null){const a=ie(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Q(l)){const{propsDefaults:c}=s;r in c?n=c[r]:(Qt(s),n=c[r]=l.call(null,t),St())}else n=l}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===er(r))&&(n=!0))}return n}function $i(e,t,r=!1){const n=t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!Q(e)){const m=g=>{l=!0;const[x,_]=$i(g,t,!0);Me(o,x),_&&a.push(..._)};!r&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!i&&!l)return xe(e)&&n.set(e,Ut),Ut;if(Y(i))for(let m=0;m<i.length;m++){const g=Zt(i[m]);ws(g)&&(o[g]=ye)}else if(i)for(const m in i){const g=Zt(m);if(ws(g)){const x=i[m],_=o[g]=Y(x)||Q(x)?{type:x}:Me({},x);if(_){const N=Es(Boolean,_.type),T=Es(String,_.type);_[0]=N>-1,_[1]=T<0||N<T,(N>-1||ie(_,"default"))&&a.push(g)}}}const c=[o,a];return xe(e)&&n.set(e,c),c}function ws(e){return e[0]!=="$"}function bs(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function _s(e,t){return bs(e)===bs(t)}function Es(e,t){return Y(t)?t.findIndex(r=>_s(r,e)):Q(t)&&_s(t,e)?0:-1}const Oi=e=>e[0]==="_"||e==="$stable",Xn=e=>Y(e)?e.map(ut):[ut(e)],Bo=(e,t,r)=>{if(t._n)return t;const n=so((...s)=>Xn(t(...s)),r);return n._c=!1,n},Ii=(e,t,r)=>{const n=e._ctx;for(const s in e){if(Oi(s))continue;const i=e[s];if(Q(i))t[s]=Bo(s,i,n);else if(i!=null){const o=Xn(i);t[s]=()=>o}}},Ni=(e,t)=>{const r=Xn(t);e.slots.default=()=>r},jo=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=ae(t),Lr(t,"_",r)):Ii(t,e.slots={})}else e.slots={},t&&Ni(e,t);Lr(e.slots,Gr,1)},Ko=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=ye;if(n.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:(Me(s,t),!r&&a===1&&delete s._):(i=!t.$stable,Ii(t,s)),o=t}else t&&(Ni(e,t),o={default:1});if(i)for(const a in s)!Oi(a)&&!(a in o)&&delete s[a]};function An(e,t,r,n,s=!1){if(Y(e)){e.forEach((x,_)=>An(x,t&&(Y(t)?t[_]:t),r,n,s));return}if($r(n)&&!s)return;const i=n.shapeFlag&4?es(n.component)||n.component.proxy:n.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,m=a.refs===ye?a.refs={}:a.refs,g=a.setupState;if(c!=null&&c!==l&&(Ce(c)?(m[c]=null,ie(g,c)&&(g[c]=null)):De(c)&&(c.value=null)),Q(l))wt(l,a,12,[o,m]);else{const x=Ce(l),_=De(l);if(x||_){const N=()=>{if(e.f){const T=x?ie(g,l)?g[l]:m[l]:l.value;s?Y(T)&&Ln(T,i):Y(T)?T.includes(i)||T.push(i):x?(m[l]=[i],ie(g,l)&&(g[l]=m[l])):(l.value=[i],e.k&&(m[e.k]=l.value))}else x?(m[l]=o,ie(g,l)&&(g[l]=o)):_&&(l.value=o,e.k&&(m[e.k]=o))};o?(N.id=-1,Ke(N,r)):N()}}}const Ke=co;function qo(e){return Uo(e)}function Uo(e,t){const r=dn();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:m,parentNode:g,nextSibling:x,setScopeId:_=nt,insertStaticContent:N}=e,T=(d,v,C,F=null,k=null,I=null,D=!1,O=null,L=!!v.dynamicChildren)=>{if(d===v)return;d&&!ir(d,v)&&(F=je(d),se(d,k,I,!0),d=null),v.patchFlag===-2&&(L=!1,v.dynamicChildren=null);const{type:$,ref:W,shapeFlag:H}=v;switch($){case Xr:B(d,v,C,F);break;case Ot:z(d,v,C,F);break;case an:d==null&&p(v,C,F,D);break;case lt:X(d,v,C,F,k,I,D,O,L);break;default:H&1?y(d,v,C,F,k,I,D,O,L):H&6?fe(d,v,C,F,k,I,D,O,L):(H&64||H&128)&&$.process(d,v,C,F,k,I,D,O,L,Je)}W!=null&&k&&An(W,d&&d.ref,I,v||d,!v)},B=(d,v,C,F)=>{if(d==null)n(v.el=a(v.children),C,F);else{const k=v.el=d.el;v.children!==d.children&&c(k,v.children)}},z=(d,v,C,F)=>{d==null?n(v.el=l(v.children||""),C,F):v.el=d.el},p=(d,v,C,F)=>{[d.el,d.anchor]=N(d.children,v,C,F,d.el,d.anchor)},f=({el:d,anchor:v},C,F)=>{let k;for(;d&&d!==v;)k=x(d),n(d,C,F),d=k;n(v,C,F)},h=({el:d,anchor:v})=>{let C;for(;d&&d!==v;)C=x(d),s(d),d=C;s(v)},y=(d,v,C,F,k,I,D,O,L)=>{D=D||v.type==="svg",d==null?w(v,C,F,k,I,D,O,L):A(d,v,k,I,D,O,L)},w=(d,v,C,F,k,I,D,O)=>{let L,$;const{type:W,props:H,shapeFlag:V,transition:J,dirs:te}=d;if(L=d.el=o(d.type,I,H&&H.is,H),V&8?m(L,d.children):V&16&&S(d.children,L,null,F,k,I&&W!=="foreignObject",D,O),te&&Ct(d,null,F,"created"),E(L,d,d.scopeId,D,F),H){for(const ce in H)ce!=="value"&&!Mr(ce)&&i(L,ce,null,H[ce],I,d.children,F,k,Ee);"value"in H&&i(L,"value",null,H.value),($=H.onVnodeBeforeMount)&&ot($,F,d)}te&&Ct(d,null,F,"beforeMount");const de=(!k||k&&!k.pendingBranch)&&J&&!J.persisted;de&&J.beforeEnter(L),n(L,v,C),(($=H&&H.onVnodeMounted)||de||te)&&Ke(()=>{$&&ot($,F,d),de&&J.enter(L),te&&Ct(d,null,F,"mounted")},k)},E=(d,v,C,F,k)=>{if(C&&_(d,C),F)for(let I=0;I<F.length;I++)_(d,F[I]);if(k){let I=k.subTree;if(v===I){const D=k.vnode;E(d,D,D.scopeId,D.slotScopeIds,k.parent)}}},S=(d,v,C,F,k,I,D,O,L=0)=>{for(let $=L;$<d.length;$++){const W=d[$]=O?yt(d[$]):ut(d[$]);T(null,W,v,C,F,k,I,D,O)}},A=(d,v,C,F,k,I,D)=>{const O=v.el=d.el;let{patchFlag:L,dynamicChildren:$,dirs:W}=v;L|=d.patchFlag&16;const H=d.props||ye,V=v.props||ye;let J;C&&At(C,!1),(J=V.onVnodeBeforeUpdate)&&ot(J,C,v,d),W&&Ct(v,d,C,"beforeUpdate"),C&&At(C,!0);const te=k&&v.type!=="foreignObject";if($?K(d.dynamicChildren,$,O,C,F,te,I):D||U(d,v,O,null,C,F,te,I,!1),L>0){if(L&16)q(O,v,H,V,C,F,k);else if(L&2&&H.class!==V.class&&i(O,"class",null,V.class,k),L&4&&i(O,"style",H.style,V.style,k),L&8){const de=v.dynamicProps;for(let ce=0;ce<de.length;ce++){const be=de[ce],Ge=H[be],Dt=V[be];(Dt!==Ge||be==="value")&&i(O,be,Ge,Dt,k,d.children,C,F,Ee)}}L&1&&d.children!==v.children&&m(O,v.children)}else!D&&$==null&&q(O,v,H,V,C,F,k);((J=V.onVnodeUpdated)||W)&&Ke(()=>{J&&ot(J,C,v,d),W&&Ct(v,d,C,"updated")},F)},K=(d,v,C,F,k,I,D)=>{for(let O=0;O<v.length;O++){const L=d[O],$=v[O],W=L.el&&(L.type===lt||!ir(L,$)||L.shapeFlag&70)?g(L.el):C;T(L,$,W,null,F,k,I,D,!0)}},q=(d,v,C,F,k,I,D)=>{if(C!==F){if(C!==ye)for(const O in C)!Mr(O)&&!(O in F)&&i(d,O,C[O],null,D,v.children,k,I,Ee);for(const O in F){if(Mr(O))continue;const L=F[O],$=C[O];L!==$&&O!=="value"&&i(d,O,$,L,D,v.children,k,I,Ee)}"value"in F&&i(d,"value",C.value,F.value)}},X=(d,v,C,F,k,I,D,O,L)=>{const $=v.el=d?d.el:a(""),W=v.anchor=d?d.anchor:a("");let{patchFlag:H,dynamicChildren:V,slotScopeIds:J}=v;J&&(O=O?O.concat(J):J),d==null?(n($,C,F),n(W,C,F),S(v.children,C,W,k,I,D,O,L)):H>0&&H&64&&V&&d.dynamicChildren?(K(d.dynamicChildren,V,C,k,I,D,O),(v.key!=null||k&&v===k.subTree)&&Ti(d,v,!0)):U(d,v,C,W,k,I,D,O,L)},fe=(d,v,C,F,k,I,D,O,L)=>{v.slotScopeIds=O,d==null?v.shapeFlag&512?k.ctx.activate(v,C,F,D,L):Ae(v,C,F,k,I,D,L):Ze(d,v,L)},Ae=(d,v,C,F,k,I,D)=>{const O=d.component=el(d,F,k);if(Ai(d)&&(O.ctx.renderer=Je),tl(O),O.asyncDep){if(k&&k.registerDep(O,me),!d.el){const L=O.subTree=qe(Ot);z(null,L,v,C)}return}me(O,d,v,C,k,I,D)},Ze=(d,v,C)=>{const F=v.component=d.component;if(oo(d,v,C))if(F.asyncDep&&!F.asyncResolved){ue(F,v,C);return}else F.next=v,eo(F.update),F.update();else v.el=d.el,F.vnode=v},me=(d,v,C,F,k,I,D)=>{const O=()=>{if(d.isMounted){let{next:W,bu:H,u:V,parent:J,vnode:te}=d,de=W,ce;At(d,!1),W?(W.el=te.el,ue(d,W,D)):W=te,H&&rn(H),(ce=W.props&&W.props.onVnodeBeforeUpdate)&&ot(ce,J,W,te),At(d,!0);const be=nn(d),Ge=d.subTree;d.subTree=be,T(Ge,be,g(Ge.el),je(Ge),d,k,I),W.el=be.el,de===null&&lo(d,be.el),V&&Ke(V,k),(ce=W.props&&W.props.onVnodeUpdated)&&Ke(()=>ot(ce,J,W,te),k)}else{let W;const{el:H,props:V}=v,{bm:J,m:te,parent:de}=d,ce=$r(v);if(At(d,!1),J&&rn(J),!ce&&(W=V&&V.onVnodeBeforeMount)&&ot(W,de,v),At(d,!0),H&&ze){const be=()=>{d.subTree=nn(d),ze(H,d.subTree,d,k,null)};ce?v.type.__asyncLoader().then(()=>!d.isUnmounted&&be()):be()}else{const be=d.subTree=nn(d);T(null,be,C,F,d,k,I),v.el=be.el}if(te&&Ke(te,k),!ce&&(W=V&&V.onVnodeMounted)){const be=v;Ke(()=>ot(W,de,be),k)}(v.shapeFlag&256||de&&$r(de.vnode)&&de.vnode.shapeFlag&256)&&d.a&&Ke(d.a,k),d.isMounted=!0,v=C=F=null}},L=d.effect=new Kn(O,()=>Jn($),d.scope),$=d.update=()=>L.run();$.id=d.uid,At(d,!0),$()},ue=(d,v,C)=>{v.component=d;const F=d.vnode.props;d.vnode=v,d.next=null,Ro(d,v.props,F,C),Ko(d,v.children,C),tr(),ds(),rr()},U=(d,v,C,F,k,I,D,O,L=!1)=>{const $=d&&d.children,W=d?d.shapeFlag:0,H=v.children,{patchFlag:V,shapeFlag:J}=v;if(V>0){if(V&128){Pe($,H,C,F,k,I,D,O,L);return}else if(V&256){le($,H,C,F,k,I,D,O,L);return}}J&8?(W&16&&Ee($,k,I),H!==$&&m(C,H)):W&16?J&16?Pe($,H,C,F,k,I,D,O,L):Ee($,k,I,!0):(W&8&&m(C,""),J&16&&S(H,C,F,k,I,D,O,L))},le=(d,v,C,F,k,I,D,O,L)=>{d=d||Ut,v=v||Ut;const $=d.length,W=v.length,H=Math.min($,W);let V;for(V=0;V<H;V++){const J=v[V]=L?yt(v[V]):ut(v[V]);T(d[V],J,C,null,k,I,D,O,L)}$>W?Ee(d,k,I,!0,!1,H):S(v,C,F,k,I,D,O,L,H)},Pe=(d,v,C,F,k,I,D,O,L)=>{let $=0;const W=v.length;let H=d.length-1,V=W-1;for(;$<=H&&$<=V;){const J=d[$],te=v[$]=L?yt(v[$]):ut(v[$]);if(ir(J,te))T(J,te,C,null,k,I,D,O,L);else break;$++}for(;$<=H&&$<=V;){const J=d[H],te=v[V]=L?yt(v[V]):ut(v[V]);if(ir(J,te))T(J,te,C,null,k,I,D,O,L);else break;H--,V--}if($>H){if($<=V){const J=V+1,te=J<W?v[J].el:F;for(;$<=V;)T(null,v[$]=L?yt(v[$]):ut(v[$]),C,te,k,I,D,O,L),$++}}else if($>V)for(;$<=H;)se(d[$],k,I,!0),$++;else{const J=$,te=$,de=new Map;for($=te;$<=V;$++){const We=v[$]=L?yt(v[$]):ut(v[$]);We.key!=null&&de.set(We.key,$)}let ce,be=0;const Ge=V-te+1;let Dt=!1,ns=0;const nr=new Array(Ge);for($=0;$<Ge;$++)nr[$]=0;for($=J;$<=H;$++){const We=d[$];if(be>=Ge){se(We,k,I,!0);continue}let at;if(We.key!=null)at=de.get(We.key);else for(ce=te;ce<=V;ce++)if(nr[ce-te]===0&&ir(We,v[ce])){at=ce;break}at===void 0?se(We,k,I,!0):(nr[at-te]=$+1,at>=ns?ns=at:Dt=!0,T(We,v[at],C,null,k,I,D,O,L),be++)}const ss=Dt?Ho(nr):Ut;for(ce=ss.length-1,$=Ge-1;$>=0;$--){const We=te+$,at=v[We],is=We+1<W?v[We+1].el:F;nr[$]===0?T(null,at,C,is,k,I,D,O,L):Dt&&(ce<0||$!==ss[ce]?Se(at,C,is,2):ce--)}}},Se=(d,v,C,F,k=null)=>{const{el:I,type:D,transition:O,children:L,shapeFlag:$}=d;if($&6){Se(d.component.subTree,v,C,F);return}if($&128){d.suspense.move(v,C,F);return}if($&64){D.move(d,v,C,Je);return}if(D===lt){n(I,v,C);for(let H=0;H<L.length;H++)Se(L[H],v,C,F);n(d.anchor,v,C);return}if(D===an){f(d,v,C);return}if(F!==2&&$&1&&O)if(F===0)O.beforeEnter(I),n(I,v,C),Ke(()=>O.enter(I),k);else{const{leave:H,delayLeave:V,afterLeave:J}=O,te=()=>n(I,v,C),de=()=>{H(I,()=>{te(),J&&J()})};V?V(I,te,de):de()}else n(I,v,C)},se=(d,v,C,F=!1,k=!1)=>{const{type:I,props:D,ref:O,children:L,dynamicChildren:$,shapeFlag:W,patchFlag:H,dirs:V}=d;if(O!=null&&An(O,null,C,d,!0),W&256){v.ctx.deactivate(d);return}const J=W&1&&V,te=!$r(d);let de;if(te&&(de=D&&D.onVnodeBeforeUnmount)&&ot(de,v,d),W&6)He(d.component,C,F);else{if(W&128){d.suspense.unmount(C,F);return}J&&Ct(d,null,v,"beforeUnmount"),W&64?d.type.remove(d,v,C,k,Je,F):$&&(I!==lt||H>0&&H&64)?Ee($,v,C,!1,!0):(I===lt&&H&384||!k&&W&16)&&Ee(L,v,C),F&&Lt(d)}(te&&(de=D&&D.onVnodeUnmounted)||J)&&Ke(()=>{de&&ot(de,v,d),J&&Ct(d,null,v,"unmounted")},C)},Lt=d=>{const{type:v,el:C,anchor:F,transition:k}=d;if(v===lt){_e(C,F);return}if(v===an){h(d);return}const I=()=>{s(C),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(d.shapeFlag&1&&k&&!k.persisted){const{leave:D,delayLeave:O}=k,L=()=>D(C,I);O?O(d.el,I,L):L()}else I()},_e=(d,v)=>{let C;for(;d!==v;)C=x(d),s(d),d=C;s(v)},He=(d,v,C)=>{const{bum:F,scope:k,update:I,subTree:D,um:O}=d;F&&rn(F),k.stop(),I&&(I.active=!1,se(D,d,v,C)),O&&Ke(O,v),Ke(()=>{d.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Ee=(d,v,C,F=!1,k=!1,I=0)=>{for(let D=I;D<d.length;D++)se(d[D],v,C,F,k)},je=d=>d.shapeFlag&6?je(d.component.subTree):d.shapeFlag&128?d.suspense.next():x(d.anchor||d.el),it=(d,v,C)=>{d==null?v._vnode&&se(v._vnode,null,null,!0):T(v._vnode||null,d,v,null,null,null,C),ds(),xi(),v._vnode=d},Je={p:T,um:se,m:Se,r:Lt,mt:Ae,mc:S,pc:U,pbc:K,n:je,o:e};let Xe,ze;return t&&([Xe,ze]=t(Je)),{render:it,hydrate:Xe,createApp:To(it,Xe)}}function At({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Ti(e,t,r=!1){const n=e.children,s=t.children;if(Y(n)&&Y(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=yt(s[i]),a.el=o.el),r||Ti(o,a)),a.type===Xr&&(a.el=o.el)}}function Ho(e){const t=e.slice(),r=[0];let n,s,i,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(s=r[r.length-1],e[s]<c){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<c?i=a+1:o=a;c<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}const zo=e=>e.__isTeleport,lt=Symbol.for("v-fgt"),Xr=Symbol.for("v-txt"),Ot=Symbol.for("v-cmt"),an=Symbol.for("v-stc"),cr=[];let rt=null;function lr(e=!1){cr.push(rt=e?null:[])}function Wo(){cr.pop(),rt=cr[cr.length-1]||null}let mr=1;function Cs(e){mr+=e}function Li(e){return e.dynamicChildren=mr>0?rt||Ut:null,Wo(),mr>0&&rt&&rt.push(e),e}function Pr(e,t,r,n,s,i){return Li(he(e,t,r,n,s,i,!0))}function Vo(e,t,r,n,s){return Li(qe(e,t,r,n,s,!0))}function Pn(e){return e?e.__v_isVNode===!0:!1}function ir(e,t){return e.type===t.type&&e.key===t.key}const Gr="__vInternal",Di=({key:e})=>e??null,Ir=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ce(e)||De(e)||Q(e)?{i:ft,r:e,k:t,f:!!r}:e:null);function he(e,t=null,r=null,n=0,s=null,i=e===lt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Di(t),ref:t&&Ir(t),scopeId:_i,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:ft};return a?(Gn(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Ce(r)?8:16),mr>0&&!o&&rt&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&rt.push(l),l}const qe=Yo;function Yo(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===Po)&&(e=Ot),Pn(e)){const a=Gt(e,t,!0);return r&&Gn(a,r),mr>0&&!i&&rt&&(a.shapeFlag&6?rt[rt.indexOf(e)]=a:rt.push(a)),a.patchFlag|=-2,a}if(il(e)&&(e=e.__vccOpts),t){t=Jo(t);let{class:a,style:l}=t;a&&!Ce(a)&&(t.class=Wr(a)),xe(l)&&(hi(l)&&!Y(l)&&(l=Me({},l)),t.style=Bn(l))}const o=Ce(e)?1:uo(e)?128:zo(e)?64:xe(e)?4:Q(e)?2:0;return he(e,t,r,n,s,o,i,!0)}function Jo(e){return e?hi(e)||Gr in e?Me({},e):e:null}function Gt(e,t,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=e,a=t?Xo(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Di(a),ref:t&&t.ref?r&&s?Y(s)?s.concat(Ir(t)):[s,Ir(t)]:Ir(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==lt?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gt(e.ssContent),ssFallback:e.ssFallback&&Gt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function kn(e=" ",t=0){return qe(Xr,null,e,t)}function Zo(e="",t=!1){return t?(lr(),Vo(Ot,null,e)):qe(Ot,null,e)}function ut(e){return e==null||typeof e=="boolean"?qe(Ot):Y(e)?qe(lt,null,e.slice()):typeof e=="object"?yt(e):qe(Xr,null,String(e))}function yt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Gt(e)}function Gn(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(Y(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),Gn(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!(Gr in t)?t._ctx=ft:s===3&&ft&&(ft.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Q(t)?(t={default:t,_ctx:ft},r=32):(t=String(t),n&64?(r=16,t=[kn(t)]):r=8);e.children=t,e.shapeFlag|=r}function Xo(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=Wr([t.class,n.class]));else if(s==="style")t.style=Bn([t.style,n.style]);else if(Ur(s)){const i=t[s],o=n[s];o&&i!==o&&!(Y(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function ot(e,t,r,n=null){st(e,t,7,[r,n])}const Go=Mi();let Qo=0;function el(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Go,i={uid:Qo++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new ma(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$i(n,s),emitsOptions:bi(n,s),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:n.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=no.bind(null,i),e.ce&&e.ce(i),i}let Le=null,Qn,Rt,As="__VUE_INSTANCE_SETTERS__";(Rt=dn()[As])||(Rt=dn()[As]=[]),Rt.push(e=>Le=e),Qn=e=>{Rt.length>1?Rt.forEach(t=>t(e)):Rt[0](e)};const Qt=e=>{Qn(e),e.scope.on()},St=()=>{Le&&Le.scope.off(),Qn(null)};function Ri(e){return e.vnode.shapeFlag&4}let vr=!1;function tl(e,t=!1){vr=t;const{props:r,children:n}=e.vnode,s=Ri(e);Do(e,r,s,t),jo(e,n);const i=s?rl(e,t):void 0;return vr=!1,i}function rl(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=pi(new Proxy(e.ctx,Fo));const{setup:n}=r;if(n){const s=e.setupContext=n.length>1?sl(e):null;Qt(e),tr();const i=wt(n,e,0,[e.props,s]);if(rr(),St(),Js(i)){if(i.then(St,St),t)return i.then(o=>{Ps(e,o,t)}).catch(o=>{Yr(o,e,0)});e.asyncDep=i}else Ps(e,i,t)}else Bi(e,t)}function Ps(e,t,r){Q(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:xe(t)&&(e.setupState=mi(t)),Bi(e,r)}let ks;function Bi(e,t,r){const n=e.type;if(!e.render){if(!t&&ks&&!n.render){const s=n.template||Zn(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Me(Me({isCustomElement:i,delimiters:a},o),l);n.render=ks(s,c)}}e.render=n.render||nt}Qt(e),tr(),Mo(e),rr(),St()}function nl(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,r){return Ue(e,"get","$attrs"),t[r]}}))}function sl(e){const t=r=>{e.exposed=r||{}};return{get attrs(){return nl(e)},slots:e.slots,emit:e.emit,expose:t}}function es(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(mi(pi(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in ur)return ur[r](e)},has(t,r){return r in t||r in ur}}))}function il(e){return Q(e)&&"__vccOpts"in e}const al=(e,t)=>Za(e,t,vr);function Pt(e,t,r){const n=arguments.length;return n===2?xe(t)&&!Y(t)?Pn(t)?qe(e,null,[t]):qe(e,t):qe(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Pn(r)&&(r=[r]),qe(e,t,r))}const ol=Symbol.for("v-scx"),ll=()=>Or(ol),ul="3.3.4",cl="http://www.w3.org/2000/svg",Ft=typeof document<"u"?document:null,Fs=Ft&&Ft.createElement("template"),fl={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t?Ft.createElementNS(cl,e):Ft.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Ft.createTextNode(e),createComment:e=>Ft.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ft.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Fs.innerHTML=n?`<svg>${e}</svg>`:e;const a=Fs.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function hl(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function pl(e,t,r){const n=e.style,s=Ce(r);if(r&&!s){if(t&&!Ce(t))for(const i in t)r[i]==null&&Fn(n,i,"");for(const i in r)Fn(n,i,r[i])}else{const i=n.display;s?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=i)}}const Ms=/\s*!important$/;function Fn(e,t,r){if(Y(r))r.forEach(n=>Fn(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=dl(e,t);Ms.test(r)?e.setProperty(er(n),r.replace(Ms,""),"important"):e[n]=r}}const Ss=["Webkit","Moz","ms"],on={};function dl(e,t){const r=on[t];if(r)return r;let n=Zt(t);if(n!=="filter"&&n in e)return on[t]=n;n=Gs(n);for(let s=0;s<Ss.length;s++){const i=Ss[s]+n;if(i in e)return on[t]=i}return t}const $s="http://www.w3.org/1999/xlink";function gl(e,t,r,n,s){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS($s,t.slice(6,t.length)):e.setAttributeNS($s,t,r);else{const i=ga(t);r==null||i&&!Qs(r)?e.removeAttribute(t):e.setAttribute(t,i?"":r)}}function ml(e,t,r,n,s,i,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,s,i),e[t]=r??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=r;const c=a==="OPTION"?e.getAttribute("value"):e.value,m=r??"";c!==m&&(e.value=m),r==null&&e.removeAttribute(t);return}let l=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=Qs(r):r==null&&c==="string"?(r="",l=!0):c==="number"&&(r=0,l=!0)}try{e[t]=r}catch{}l&&e.removeAttribute(t)}function vl(e,t,r,n){e.addEventListener(t,r,n)}function yl(e,t,r,n){e.removeEventListener(t,r,n)}function xl(e,t,r,n,s=null){const i=e._vei||(e._vei={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=wl(t);if(n){const c=i[t]=El(n,s);vl(e,a,c,l)}else o&&(yl(e,a,o,l),i[t]=void 0)}}const Os=/(?:Once|Passive|Capture)$/;function wl(e){let t;if(Os.test(e)){t={};let n;for(;n=e.match(Os);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):er(e.slice(2)),t]}let ln=0;const bl=Promise.resolve(),_l=()=>ln||(bl.then(()=>ln=0),ln=Date.now());function El(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;st(Cl(n,r.value),t,5,[n])};return r.value=e,r.attached=_l(),r}function Cl(e,t){if(Y(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const Is=/^on[a-z]/,Al=(e,t,r,n,s=!1,i,o,a,l)=>{t==="class"?hl(e,n,s):t==="style"?pl(e,r,n):Ur(t)?Tn(t)||xl(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Pl(e,t,n,s))?ml(e,t,n,i,o,a,l):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),gl(e,t,n,s))};function Pl(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&Is.test(t)&&Q(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Is.test(t)&&Ce(r)?!1:t in e}const kl=Me({patchProp:Al},fl);let Ns;function Fl(){return Ns||(Ns=qo(kl))}const Ml=(...e)=>{const t=Fl().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=Sl(n);if(!s)return;const i=t._component;!Q(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Sl(e){return Ce(e)?document.querySelector(e):e}function ve(e,t,r){let n=r.value;return{configurable:!0,get(){const s=n.bind(this);return Object.defineProperty(this,t,{configurable:!0,writable:!0,value:s}),s},set(s){n=s}}}class Et extends Error{name="AiScript";info;pos;constructor(t,r){super(t),this.info=r,Error.captureStackTrace&&Error.captureStackTrace(this,Et)}}class Ts extends Et{name="Internal";constructor(t){super(t.message??`${t}`,t)}}class re extends Et{pos;name="Syntax";constructor(t,r,n){super(`${t} (Line ${r.line}, Column ${r.column})`,n),this.pos=r}}class Ls extends Et{pos;name="Namespace";constructor(t,r,n){super(`${t} (Line ${r.line}, Column ${r.column})`,n),this.pos=r}}class ne extends Et{name="Runtime";constructor(t,r){super(t,r)}}class Ds extends ne{constructor(t,r){super(t,r)}}class $l extends ne{name="";constructor(t,r){super(t,r)}}var mt=globalThis&&globalThis.__decorate||function(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};class Ve{parent;layerdStates;name;opts={};nsName;constructor(t=[],r,n,s){this.layerdStates=t,this.parent=r,this.name=n||(t.length===1?"<root>":"<anonymous>"),this.nsName=s}log(t,r){this.parent?this.parent.log(t,r):this.opts.log&&this.opts.log(t,r)}onUpdated(t,r){this.parent?this.parent.onUpdated(t,r):this.opts.onUpdated&&this.opts.onUpdated(t,r)}createChildScope(t=new Map,r){const n=[t,...this.layerdStates];return new Ve(n,this,r)}createChildNamespaceScope(t,r=new Map,n){const s=[r,...this.layerdStates];return new Ve(s,this,n,t)}get(t){for(const r of this.layerdStates)if(r.has(t)){const n=r.get(t).value;return this.log("read",{var:t,val:n}),n}throw new ne(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}exists(t){for(const r of this.layerdStates)if(r.has(t))return this.log("exists",{var:t}),!0;return this.log("not exists",{var:t}),!1}getAll(){const t=this.layerdStates.reduce((r,n)=>[...r,...n],[]);return new Map(t)}add(t,r){this.log("add",{var:t,val:r});const n=this.layerdStates[0];if(n.has(t))throw new ne(`Variable '${t}' already exists in scope '${this.name}'`,{scope:this.layerdStates});n.set(t,r),this.parent==null?this.onUpdated(t,r.value):this.nsName!=null&&this.parent.add(this.nsName+":"+t,r)}assign(t,r){let n=1;for(const s of this.layerdStates){if(s.has(t)){const i=s.get(t);if(!i.isMutable)throw new ne(`Cannot assign to an immutable variable ${t}.`);i.value=r,this.log("assign",{var:t,val:r}),n===this.layerdStates.length&&this.onUpdated(t,r);return}n++}throw new ne(`No such variable '${t}' in scope '${this.name}'`,{scope:this.layerdStates})}}mt([ve],Ve.prototype,"log",null);mt([ve],Ve.prototype,"onUpdated",null);mt([ve],Ve.prototype,"createChildScope",null);mt([ve],Ve.prototype,"createChildNamespaceScope",null);mt([ve],Ve.prototype,"get",null);mt([ve],Ve.prototype,"exists",null);mt([ve],Ve.prototype,"getAll",null);mt([ve],Ve.prototype,"add",null);mt([ve],Ve.prototype,"assign",null);var $e=[];for(var un=0;un<256;++un)$e.push((un+256).toString(16).slice(1));function Ol(e,t=0){return($e[e[t+0]]+$e[e[t+1]]+$e[e[t+2]]+$e[e[t+3]]+"-"+$e[e[t+4]]+$e[e[t+5]]+"-"+$e[e[t+6]]+$e[e[t+7]]+"-"+$e[e[t+8]]+$e[e[t+9]]+"-"+$e[e[t+10]]+$e[e[t+11]]+$e[e[t+12]]+$e[e[t+13]]+$e[e[t+14]]+$e[e[t+15]]).toLowerCase()}var kr,Il=new Uint8Array(16);function Nl(){if(!kr&&(kr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!kr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kr(Il)}var Tl=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Rs={randomUUID:Tl};function Ll(e,t,r){if(Rs.randomUUID&&!t&&!e)return Rs.randomUUID();e=e||{};var n=e.random||(e.rng||Nl)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=n[s];return t}return Ol(n)}var Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ji={exports:{}};(function(e){(function(t,r,n){function s(l){var c=this,m=a();c.next=function(){var g=2091639*c.s0+c.c*23283064365386963e-26;return c.s0=c.s1,c.s1=c.s2,c.s2=g-(c.c=g|0)},c.c=1,c.s0=m(" "),c.s1=m(" "),c.s2=m(" "),c.s0-=m(l),c.s0<0&&(c.s0+=1),c.s1-=m(l),c.s1<0&&(c.s1+=1),c.s2-=m(l),c.s2<0&&(c.s2+=1),m=null}function i(l,c){return c.c=l.c,c.s0=l.s0,c.s1=l.s1,c.s2=l.s2,c}function o(l,c){var m=new s(l),g=c&&c.state,x=m.next;return x.int32=function(){return m.next()*4294967296|0},x.double=function(){return x()+(x()*2097152|0)*11102230246251565e-32},x.quick=x,g&&(typeof g=="object"&&i(g,m),x.state=function(){return i(m,{})}),x}function a(){var l=4022871197,c=function(m){m=String(m);for(var g=0;g<m.length;g++){l+=m.charCodeAt(g);var x=.02519603282416938*l;l=x>>>0,x-=l,x*=l,l=x>>>0,x-=l,l+=x*4294967296}return(l>>>0)*23283064365386963e-26};return c}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.alea=o})(Ye,e,!1)})(ji);var Ki={exports:{}};(function(e){(function(t,r,n){function s(a){var l=this,c="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var g=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^g^g>>>8},a===(a|0)?l.x=a:c+=a;for(var m=0;m<c.length+64;m++)l.x^=c.charCodeAt(m)|0,l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l}function o(a,l){var c=new s(a),m=l&&l.state,g=function(){return(c.next()>>>0)/4294967296};return g.double=function(){do var x=c.next()>>>11,_=(c.next()>>>0)/4294967296,N=(x+_)/(1<<21);while(N===0);return N},g.int32=c.next,g.quick=g,m&&(typeof m=="object"&&i(m,c),g.state=function(){return i(c,{})}),g}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor128=o})(Ye,e,!1)})(Ki);var qi={exports:{}};(function(e){(function(t,r,n){function s(a){var l=this,c="";l.next=function(){var g=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(g^g<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,a===(a|0)?l.x=a:c+=a;for(var m=0;m<c.length+64;m++)l.x^=c.charCodeAt(m)|0,m==c.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function i(a,l){return l.x=a.x,l.y=a.y,l.z=a.z,l.w=a.w,l.v=a.v,l.d=a.d,l}function o(a,l){var c=new s(a),m=l&&l.state,g=function(){return(c.next()>>>0)/4294967296};return g.double=function(){do var x=c.next()>>>11,_=(c.next()>>>0)/4294967296,N=(x+_)/(1<<21);while(N===0);return N},g.int32=c.next,g.quick=g,m&&(typeof m=="object"&&i(m,c),g.state=function(){return i(c,{})}),g}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorwow=o})(Ye,e,!1)})(qi);var Ui={exports:{}};(function(e){(function(t,r,n){function s(a){var l=this;l.next=function(){var m=l.x,g=l.i,x,_;return x=m[g],x^=x>>>7,_=x^x<<24,x=m[g+1&7],_^=x^x>>>10,x=m[g+3&7],_^=x^x>>>3,x=m[g+4&7],_^=x^x<<7,x=m[g+7&7],x=x^x<<13,_^=x^x<<9,m[g]=_,l.i=g+1&7,_};function c(m,g){var x,_=[];if(g===(g|0))_[0]=g;else for(g=""+g,x=0;x<g.length;++x)_[x&7]=_[x&7]<<15^g.charCodeAt(x)+_[x+1&7]<<13;for(;_.length<8;)_.push(0);for(x=0;x<8&&_[x]===0;++x);for(x==8?_[7]=-1:_[x],m.x=_,m.i=0,x=256;x>0;--x)m.next()}c(l,a)}function i(a,l){return l.x=a.x.slice(),l.i=a.i,l}function o(a,l){a==null&&(a=+new Date);var c=new s(a),m=l&&l.state,g=function(){return(c.next()>>>0)/4294967296};return g.double=function(){do var x=c.next()>>>11,_=(c.next()>>>0)/4294967296,N=(x+_)/(1<<21);while(N===0);return N},g.int32=c.next,g.quick=g,m&&(m.x&&i(m,c),g.state=function(){return i(c,{})}),g}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xorshift7=o})(Ye,e,!1)})(Ui);var Hi={exports:{}};(function(e){(function(t,r,n){function s(a){var l=this;l.next=function(){var m=l.w,g=l.X,x=l.i,_,N;return l.w=m=m+1640531527|0,N=g[x+34&127],_=g[x=x+1&127],N^=N<<13,_^=_<<17,N^=N>>>15,_^=_>>>12,N=g[x]=N^_,l.i=x,N+(m^m>>>16)|0};function c(m,g){var x,_,N,T,B,z=[],p=128;for(g===(g|0)?(_=g,g=null):(g=g+"\0",_=0,p=Math.max(p,g.length)),N=0,T=-32;T<p;++T)g&&(_^=g.charCodeAt((T+32)%g.length)),T===0&&(B=_),_^=_<<10,_^=_>>>15,_^=_<<4,_^=_>>>13,T>=0&&(B=B+1640531527|0,x=z[T&127]^=_+B,N=x==0?N+1:0);for(N>=128&&(z[(g&&g.length||0)&127]=-1),N=127,T=4*128;T>0;--T)_=z[N+34&127],x=z[N=N+1&127],_^=_<<13,x^=x<<17,_^=_>>>15,x^=x>>>12,z[N]=_^x;m.w=B,m.X=z,m.i=N}c(l,a)}function i(a,l){return l.i=a.i,l.w=a.w,l.X=a.X.slice(),l}function o(a,l){a==null&&(a=+new Date);var c=new s(a),m=l&&l.state,g=function(){return(c.next()>>>0)/4294967296};return g.double=function(){do var x=c.next()>>>11,_=(c.next()>>>0)/4294967296,N=(x+_)/(1<<21);while(N===0);return N},g.int32=c.next,g.quick=g,m&&(m.X&&i(m,c),g.state=function(){return i(c,{})}),g}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.xor4096=o})(Ye,e,!1)})(Hi);var zi={exports:{}};(function(e){(function(t,r,n){function s(a){var l=this,c="";l.next=function(){var g=l.b,x=l.c,_=l.d,N=l.a;return g=g<<25^g>>>7^x,x=x-_|0,_=_<<24^_>>>8^N,N=N-g|0,l.b=g=g<<20^g>>>12^x,l.c=x=x-_|0,l.d=_<<16^x>>>16^N,l.a=N-g|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,a===Math.floor(a)?(l.a=a/4294967296|0,l.b=a|0):c+=a;for(var m=0;m<c.length+20;m++)l.b^=c.charCodeAt(m)|0,l.next()}function i(a,l){return l.a=a.a,l.b=a.b,l.c=a.c,l.d=a.d,l}function o(a,l){var c=new s(a),m=l&&l.state,g=function(){return(c.next()>>>0)/4294967296};return g.double=function(){do var x=c.next()>>>11,_=(c.next()>>>0)/4294967296,N=(x+_)/(1<<21);while(N===0);return N},g.int32=c.next,g.quick=g,m&&(typeof m=="object"&&i(m,c),g.state=function(){return i(c,{})}),g}r&&r.exports?r.exports=o:n&&n.amd?n(function(){return o}):this.tychei=o})(Ye,e,!1)})(zi);var Wi={exports:{}};(function(e){(function(t,r,n){var s=256,i=6,o=52,a="random",l=n.pow(s,i),c=n.pow(2,o),m=c*2,g=s-1,x;function _(h,y,w){var E=[];y=y==!0?{entropy:!0}:y||{};var S=z(B(y.entropy?[h,f(r)]:h??p(),3),E),A=new N(E),K=function(){for(var q=A.g(i),X=l,fe=0;q<c;)q=(q+fe)*s,X*=s,fe=A.g(1);for(;q>=m;)q/=2,X/=2,fe>>>=1;return(q+fe)/X};return K.int32=function(){return A.g(4)|0},K.quick=function(){return A.g(4)/4294967296},K.double=K,z(f(A.S),r),(y.pass||w||function(q,X,fe,Ae){return Ae&&(Ae.S&&T(Ae,A),q.state=function(){return T(A,{})}),fe?(n[a]=q,X):q})(K,S,"global"in y?y.global:this==n,y.state)}function N(h){var y,w=h.length,E=this,S=0,A=E.i=E.j=0,K=E.S=[];for(w||(h=[w++]);S<s;)K[S]=S++;for(S=0;S<s;S++)K[S]=K[A=g&A+h[S%w]+(y=K[S])],K[A]=y;(E.g=function(q){for(var X,fe=0,Ae=E.i,Ze=E.j,me=E.S;q--;)X=me[Ae=g&Ae+1],fe=fe*s+me[g&(me[Ae]=me[Ze=g&Ze+X])+(me[Ze]=X)];return E.i=Ae,E.j=Ze,fe})(s)}function T(h,y){return y.i=h.i,y.j=h.j,y.S=h.S.slice(),y}function B(h,y){var w=[],E=typeof h,S;if(y&&E=="object")for(S in h)try{w.push(B(h[S],y-1))}catch{}return w.length?w:E=="string"?h:h+"\0"}function z(h,y){for(var w=h+"",E,S=0;S<w.length;)y[g&S]=g&(E^=y[g&S]*19)+w.charCodeAt(S++);return f(y)}function p(){try{var h;return x&&(h=x.randomBytes)?h=h(s):(h=new Uint8Array(s),(t.crypto||t.msCrypto).getRandomValues(h)),f(h)}catch{var y=t.navigator,w=y&&y.plugins;return[+new Date,t,w,t.screen,f(r)]}}function f(h){return String.fromCharCode.apply(0,h)}if(z(n.random(),r),e.exports){e.exports=_;try{x=require("crypto")}catch{}}else n["seed"+a]=_})(typeof self<"u"?self:Ye,[],Math)})(Wi);var Dl=ji.exports,Rl=Ki.exports,Bl=qi.exports,jl=Ui.exports,Kl=Hi.exports,ql=zi.exports,Nt=Wi.exports;Nt.alea=Dl;Nt.xor128=Rl;Nt.xorwow=Bl;Nt.xorshift7=jl;Nt.xor4096=Kl;Nt.tychei=ql;var Ul=Nt;const Z={type:"null"},ke={type:"bool",value:!0},Fe={type:"bool",value:!1},M=e=>({type:"num",value:e}),G=e=>({type:"str",value:e}),$t=e=>({type:"bool",value:e}),Kr=e=>({type:"obj",value:e}),pe=e=>({type:"arr",value:e}),Hl=(e,t,r)=>({type:"fn",args:e,statements:t,scope:r}),b=e=>({type:"fn",native:e}),zl=e=>({type:"return",value:e}),Wl=()=>({type:"break",value:null}),Vl=()=>({type:"continue",value:null}),Yl=e=>e.type==="return"?e.value:e,Nr=(e,t)=>({type:"error",value:e,info:t});function Ne(e){if(e==null)throw new ne("Expect anything, but got nothing.")}function Oe(e){if(e==null)throw new ne("Expect boolean, but got nothing.");if(e.type!=="bool")throw new ne(`Expect boolean, but got ${e.type}.`)}function we(e){if(e==null)throw new ne("Expect function, but got nothing.");if(e.type!=="fn")throw new ne(`Expect function, but got ${e.type}.`)}function oe(e){if(e==null)throw new ne("Expect string, but got nothing.");if(e.type!=="str")throw new ne(`Expect string, but got ${e.type}.`)}function P(e){if(e==null)throw new ne("Expect number, but got nothing.");if(e.type!=="num")throw new ne(`Expect number, but got ${e.type}.`)}function et(e){if(e==null)throw new ne("Expect object, but got nothing.");if(e.type!=="obj")throw new ne(`Expect object, but got ${e.type}.`)}function bt(e){if(e==null)throw new ne("Expect array, but got nothing.");if(e.type!=="arr")throw new ne(`Expect array, but got ${e.type}.`)}function cn(e){return e.type==="obj"}function qr(e){return e.type==="arr"}function Vt(e,t){return e.type==="fn"&&t.type==="fn"?e.native&&t.native?e.native===t.native:e===t:e.type==="fn"||t.type==="fn"?!1:e.type==="null"&&t.type==="null"?!0:e.type==="null"||t.type==="null"?!1:e.value===t.value}function Mn(e,t=!1){if(t){if(e.type==="num")return e.value.toString();if(e.type==="bool")return e.value?"true":"false";if(e.type==="str")return`"${e.value}"`;if(e.type==="arr")return`[${e.value.map(n=>Mn(n,!0)).join(", ")}]`;if(e.type==="null")return"(null)"}const r=e.type==="num"||e.type==="bool"?e.value:e.type==="str"?`"${e.value}"`:e.type==="fn"||e.type==="obj"?"...":e.type==="null"?"":null;return`${e.type}<${r}>`}function Sn(e){switch(e.type){case"fn":return"<function>";case"arr":return e.value.map(t=>Sn(t));case"bool":return e.value;case"null":return null;case"num":return e.value;case"obj":{const t={};for(const[r,n]of e.value.entries())t[r]=Sn(n);return t}case"str":return e.value;default:throw new Error(`Unrecognized value type: ${e.type}`)}}function $n(e){if(e===null)return Z;if(typeof e=="boolean")return $t(e);if(typeof e=="string")return G(e);if(typeof e=="number")return M(e);if(Array.isArray(e))return pe(e.map(t=>$n(t)));if(typeof e=="object"){const t=new Map;for(const[r,n]of Object.entries(e))t.set(r,$n(n));return Kr(t)}return Z}function Yt(e,t=!1,r=new Set){if((e.type==="arr"||e.type==="obj")&&r.has(e.value))return"...";if(t&&e.type==="str")return'"'+e.value.replace(/["\\\r\n]/g,n=>`\\${n}`)+'"';if(e.type==="str")return e.value;if(e.type==="num")return e.value.toString();if(e.type==="arr"){r.add(e.value);const n=[];for(const s of e.value)n.push(Yt(s,!0,r));return"[ "+n.join(", ")+" ]"}if(e.type==="obj"){r.add(e.value);const n=[];for(const[s,i]of e.value)n.push(`${s}: ${Yt(i,!0,r)}`);return"{ "+n.join(", ")+" }"}return e.type==="bool"?e.value.toString():e.type==="null"?"null":e.type==="fn"?e.native?"@( ?? ) { native code }":`@( ${e.args.map(n=>n.name).join(", ")} ) { ... }`:"?"}const Jl={version:"1.0.0"},Vi=Jl.version,Zl=new TextEncoder,Xl=new TextDecoder,Gl={help:G("SEE: https://github.com/syuilo/aiscript/blob/master/docs/get-started.md"),"Core:v":G(Vi),"Core:ai":G("kawaii"),"Core:not":b(([e])=>(Oe(e),e.value?Fe:ke)),"Core:eq":b(([e,t])=>(Ne(e),Ne(t),Vt(e,t)?ke:Fe)),"Core:neq":b(([e,t])=>(Ne(e),Ne(t),Vt(e,t)?Fe:ke)),"Core:and":b(([e,t])=>(Oe(e),e.value?(Oe(t),t.value?ke:Fe):Fe)),"Core:or":b(([e,t])=>(Oe(e),e.value?ke:(Oe(t),t.value?ke:Fe))),"Core:add":b(([e,t])=>(P(e),P(t),M(e.value+t.value))),"Core:sub":b(([e,t])=>(P(e),P(t),M(e.value-t.value))),"Core:mul":b(([e,t])=>(P(e),P(t),M(e.value*t.value))),"Core:pow":b(([e,t])=>{P(e),P(t);const r=e.value**t.value;if(isNaN(r))throw new ne("Invalid operation.");return M(r)}),"Core:div":b(([e,t])=>{P(e),P(t);const r=e.value/t.value;if(isNaN(r))throw new ne("Invalid operation.");return M(r)}),"Core:mod":b(([e,t])=>(P(e),P(t),M(e.value%t.value))),"Core:gt":b(([e,t])=>(P(e),P(t),e.value>t.value?ke:Fe)),"Core:lt":b(([e,t])=>(P(e),P(t),e.value<t.value?ke:Fe)),"Core:gteq":b(([e,t])=>(P(e),P(t),e.value>=t.value?ke:Fe)),"Core:lteq":b(([e,t])=>(P(e),P(t),e.value<=t.value?ke:Fe)),"Core:type":b(([e])=>(Ne(e),G(e.type))),"Core:to_str":b(([e])=>(Ne(e),G(Yt(e)))),"Core:range":b(([e,t])=>(P(e),P(t),e.value<t.value?pe(Array.from({length:t.value-e.value+1},(r,n)=>M(n+e.value))):e.value>t.value?pe(Array.from({length:e.value-t.value+1},(r,n)=>M(e.value-n))):pe([e]))),"Core:sleep":b(async([e])=>(P(e),await new Promise(t=>setTimeout(t,e.value)),Z)),"Core:abort":b(async([e])=>{throw oe(e),new $l(e.value)}),"Util:uuid":b(()=>G(Ll())),"Json:stringify":b(([e])=>(Ne(e),G(JSON.stringify(Sn(e))))),"Json:parse":b(([e])=>{oe(e);try{return $n(JSON.parse(e.value))}catch{return Nr("not_json")}}),"Json:parsable":b(([e])=>{oe(e);try{JSON.parse(e.value)}catch{return $t(!1)}return $t(!0)}),"Date:now":b(()=>M(Date.now())),"Date:year":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getFullYear()))),"Date:month":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getMonth()+1))),"Date:day":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getDate()))),"Date:hour":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getHours()))),"Date:minute":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getMinutes()))),"Date:second":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getSeconds()))),"Date:millisecond":b(([e])=>(e&&P(e),M(new Date(e?.value??Date.now()).getMilliseconds()))),"Date:parse":b(([e])=>{oe(e);const t=new Date(e.value).getTime();return t===t?M(t):Nr("not_date")}),"Date:to_iso_str":b(([e,t])=>{e&&P(e);const r=new Date(e?.value??Date.now());t&&P(t);const n=t?.value??-r.getTimezoneOffset();let s;if(n===0)s="Z";else{const x=Math.sign(n),_=Math.floor(Math.abs(n)/60),N=Math.abs(n)%60;r.setUTCHours(r.getUTCHours()+x*_),r.setUTCMinutes(r.getUTCMinutes()+x*N);const T=n>0?"+":"-",B=_.toString().padStart(2,"0"),z=N.toString().padStart(2,"0");s=`${T}${B}:${z}`}const i=r.getUTCFullYear().toString().padStart(4,"0"),o=(r.getUTCMonth()+1).toString().padStart(2,"0"),a=r.getUTCDate().toString().padStart(2,"0"),l=r.getUTCHours().toString().padStart(2,"0"),c=r.getUTCMinutes().toString().padStart(2,"0"),m=r.getUTCSeconds().toString().padStart(2,"0"),g=r.getUTCMilliseconds().toString().padStart(3,"0");return G(`${i}-${o}-${a}T${l}:${c}:${m}.${g}${s}`)}),"Math:Infinity":M(1/0),"Math:E":M(Math.E),"Math:LN2":M(Math.LN2),"Math:LN10":M(Math.LN10),"Math:LOG2E":M(Math.LOG2E),"Math:LOG10E":M(Math.LOG10E),"Math:PI":M(Math.PI),"Math:SQRT1_2":M(Math.SQRT1_2),"Math:SQRT2":M(Math.SQRT2),"Math:abs":b(([e])=>(P(e),M(Math.abs(e.value)))),"Math:acos":b(([e])=>(P(e),M(Math.acos(e.value)))),"Math:acosh":b(([e])=>(P(e),M(Math.acosh(e.value)))),"Math:asin":b(([e])=>(P(e),M(Math.asin(e.value)))),"Math:asinh":b(([e])=>(P(e),M(Math.asinh(e.value)))),"Math:atan":b(([e])=>(P(e),M(Math.atan(e.value)))),"Math:atanh":b(([e])=>(P(e),M(Math.atanh(e.value)))),"Math:atan2":b(([e,t])=>(P(e),P(t),M(Math.atan2(e.value,t.value)))),"Math:cbrt":b(([e])=>(P(e),M(Math.cbrt(e.value)))),"Math:ceil":b(([e])=>(P(e),M(Math.ceil(e.value)))),"Math:clz32":b(([e])=>(P(e),M(Math.clz32(e.value)))),"Math:cos":b(([e])=>(P(e),M(Math.cos(e.value)))),"Math:cosh":b(([e])=>(P(e),M(Math.cosh(e.value)))),"Math:exp":b(([e])=>(P(e),M(Math.exp(e.value)))),"Math:expm1":b(([e])=>(P(e),M(Math.expm1(e.value)))),"Math:floor":b(([e])=>(P(e),M(Math.floor(e.value)))),"Math:fround":b(([e])=>(P(e),M(Math.fround(e.value)))),"Math:hypot":b(([e])=>{bt(e);const t=[];for(const r of e.value)P(r),t.push(r.value);return M(Math.hypot(...t))}),"Math:imul":b(([e,t])=>(P(e),P(t),M(Math.imul(e.value,t.value)))),"Math:log":b(([e])=>(P(e),M(Math.log(e.value)))),"Math:log1p":b(([e])=>(P(e),M(Math.log1p(e.value)))),"Math:log10":b(([e])=>(P(e),M(Math.log10(e.value)))),"Math:log2":b(([e])=>(P(e),M(Math.log2(e.value)))),"Math:max":b(([e,t])=>(P(e),P(t),M(Math.max(e.value,t.value)))),"Math:min":b(([e,t])=>(P(e),P(t),M(Math.min(e.value,t.value)))),"Math:pow":b(([e,t])=>(P(e),P(t),M(Math.pow(e.value,t.value)))),"Math:round":b(([e])=>(P(e),M(Math.round(e.value)))),"Math:sign":b(([e])=>(P(e),M(Math.sign(e.value)))),"Math:sin":b(([e])=>(P(e),M(Math.sin(e.value)))),"Math:sinh":b(([e])=>(P(e),M(Math.sinh(e.value)))),"Math:sqrt":b(([e])=>{P(e);const t=Math.sqrt(e.value);if(isNaN(t))throw new ne("Invalid operation.");return M(t)}),"Math:tan":b(([e])=>(P(e),M(Math.tan(e.value)))),"Math:tanh":b(([e])=>(P(e),M(Math.tanh(e.value)))),"Math:trunc":b(([e])=>(P(e),M(Math.trunc(e.value)))),"Math:rnd":b(([e,t])=>e&&e.type==="num"&&t&&t.type==="num"?M(Math.floor(Math.random()*(Math.floor(t.value)-Math.ceil(e.value)+1)+Math.ceil(e.value))):M(Math.random())),"Math:gen_rng":b(([e])=>{if(Ne(e),e.type!=="num"&&e.type!=="str")return Z;const t=Ul(e.value.toString());return b(([r,n])=>r&&r.type==="num"&&n&&n.type==="num"?M(Math.floor(t()*(Math.floor(n.value)-Math.ceil(r.value)+1)+Math.ceil(r.value))):M(t()))}),"Num:from_hex":b(([e])=>(oe(e),M(parseInt(e.value,16)))),"Str:lf":G(`
`),"Str:lt":b(([e,t])=>(oe(e),oe(t),e.value<t.value?M(-1):e.value===t.value?M(0):M(1))),"Str:gt":b(([e,t])=>(oe(e),oe(t),e.value>t.value?M(-1):e.value===t.value?M(0):M(1))),"Str:from_codepoint":b(([e])=>(P(e),G(String.fromCodePoint(e.value)))),"Str:from_unicode_codepoints":b(([e])=>(bt(e),G(Array.from(e.value.map(t=>(P(t),String.fromCodePoint(t.value)))).join("")))),"Str:from_utf8_bytes":b(([e])=>(bt(e),G(Xl.decode(Uint8Array.from(e.value.map(t=>(P(t),t.value))))))),"Uri:encode_full":b(([e])=>(oe(e),G(encodeURI(e.value)))),"Uri:encode_component":b(([e])=>(oe(e),G(encodeURIComponent(e.value)))),"Uri:decode_full":b(([e])=>(oe(e),G(decodeURI(e.value)))),"Uri:decode_component":b(([e])=>(oe(e),G(decodeURIComponent(e.value)))),"Arr:create":b(([e,t])=>{P(e);try{return pe(Array(e.value).fill(t??Z))}catch(r){throw e.value<0?new ne("Arr:create expected non-negative number, got negative"):Number.isInteger(e.value)?r:new ne("Arr:create expected integer, got non-integer")}}),"Obj:keys":b(([e])=>(et(e),pe(Array.from(e.value.keys()).map(t=>G(t))))),"Obj:vals":b(([e])=>(et(e),pe(Array.from(e.value.values())))),"Obj:kvs":b(([e])=>(et(e),pe(Array.from(e.value.entries()).map(([t,r])=>pe([G(t),r]))))),"Obj:get":b(([e,t])=>(et(e),oe(t),e.value.get(t.value)??Z)),"Obj:set":b(([e,t,r])=>(et(e),oe(t),Ne(r),e.value.set(t.value,r),Z)),"Obj:has":b(([e,t])=>(et(e),oe(t),$t(e.value.has(t.value)))),"Obj:copy":b(([e])=>(et(e),Kr(new Map(e.value)))),"Obj:merge":b(([e,t])=>(et(e),et(t),Kr(new Map([...e.value,...t.value])))),"Error:create":b(([e,t])=>(oe(e),Nr(e.value,t))),"Async:interval":b(async([e,t,r],n)=>{P(e),we(t),r&&(Oe(r),r.value&&n.call(t,[]));const s=setInterval(()=>{n.topCall(t,[])},e.value),i=()=>{clearInterval(s)};return n.registerAbortHandler(i),b(([],o)=>{clearInterval(s),o.unregisterAbortHandler(i)})}),"Async:timeout":b(async([e,t],r)=>{P(e),we(t);const n=setTimeout(()=>{r.topCall(t,[])},e.value),s=()=>{clearTimeout(n)};return r.registerAbortHandler(s),b(([],i)=>{clearTimeout(n),i.unregisterAbortHandler(s)})})};var Tt={},Ql=()=>{const e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s="\\u1ab0-\\u1aff",i="\\u1dc0-\\u1dff",o=t+r+n+s+i,a="\\ufe0e\\ufe0f",l="\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93",c=`[${e}]`,m=`[${o}]`,g="\\ud83c[\\udffb-\\udfff]",x=`(?:${m}|${g})`,_=`[^${e}]`,N="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",T="[\\ud800-\\udbff][\\udc00-\\udfff]",B="\\u200d",z="(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)",p=`[${l}]`,f=`${x}?`,h=`[${a}]?`,y=`(?:${B}(?:${[_,N,T].join("|")})${h+f})*`,w=h+f+y,S=`(?:${[`${_}${m}?`,m,N,T,c,p].join("|")})`;return new RegExp(`${z}|${g}(?=${g})|${S+w}`,"g")},eu=Ye&&Ye.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tt,"__esModule",{value:!0});var Qr=eu(Ql);function On(e){if(typeof e!="string")throw new Error("A string is expected as input");return e.match(Qr.default())||[]}var fn=Tt.toArray=On;function ts(e){if(typeof e!="string")throw new Error("Input must be a string");var t=e.match(Qr.default());return t===null?0:t.length}var tu=Tt.length=ts;function Yi(e,t,r){if(t===void 0&&(t=0),typeof e!="string")throw new Error("Input must be a string");(typeof t!="number"||t<0)&&(t=0),typeof r=="number"&&r<0&&(r=0);var n=e.match(Qr.default());return n?n.slice(t,r).join(""):""}var ru=Tt.substring=Yi;function nu(e,t,r){if(t===void 0&&(t=0),typeof e!="string")throw new Error("Input must be a string");var n=ts(e);if(typeof t!="number"&&(t=parseInt(t,10)),t>=n)return"";t<0&&(t+=n);var s;typeof r>"u"?s=n:(typeof r!="number"&&(r=parseInt(r,10)),s=r>=0?r+t:t);var i=e.match(Qr.default());return i?i.slice(t,s).join(""):""}Tt.substr=nu;function su(e,t,r,n){if(t===void 0&&(t=16),r===void 0&&(r="#"),n===void 0&&(n="right"),typeof e!="string"||typeof t!="number")throw new Error("Invalid arguments specified");if(["left","right"].indexOf(n)===-1)throw new Error("Pad position should be either left or right");typeof r!="string"&&(r=String(r));var s=ts(e);if(s>t)return Yi(e,0,t);if(s<t){var i=r.repeat(t-s);return n==="left"?i+e:e+i}return e}Tt.limit=su;function iu(e,t,r){if(r===void 0&&(r=0),typeof e!="string")throw new Error("Input must be a string");if(e==="")return t===""?0:-1;r=Number(r),r=isNaN(r)?0:r,t=String(t);var n=On(e);if(r>=n.length)return t===""?n.length:-1;if(t==="")return r;var s=On(t),i=!1,o;for(o=r;o<n.length;o+=1){for(var a=0;a<s.length&&s[a]===n[o+a];)a+=1;if(a===s.length&&s[a-1]===n[o+a-1]){i=!0;break}}return i?o:-1}var au=Tt.indexOf=iu;const Bs={num:{to_str:e=>b(async(t,r)=>G(e.value.toString())),to_hex:e=>b(async(t,r)=>G(e.value.toString(16)))},str:{to_num:e=>b(async(t,r)=>{const n=parseInt(e.value,10);return isNaN(n)?Z:M(n)}),to_arr:e=>b(async(t,r)=>pe(fn(e.value).map(n=>G(n)))),to_unicode_arr:e=>b(async(t,r)=>pe([...e.value].map(n=>G(n)))),to_unicode_codepoint_arr:e=>b(async(t,r)=>pe([...e.value].map(n=>{const s=n.codePointAt(0);return M(s??n.charCodeAt(0))}))),to_char_arr:e=>b(async(t,r)=>pe(e.value.split("").map(n=>G(n)))),to_charcode_arr:e=>b(async(t,r)=>pe(e.value.split("").map(n=>M(n.charCodeAt(0))))),to_utf8_byte_arr:e=>b(async(t,r)=>pe(Array.from(Zl.encode(e.value)).map(n=>M(n)))),len:e=>M(tu(e.value)),replace:e=>b(async([t,r],n)=>(oe(t),oe(r),G(e.value.split(t.value).join(r.value)))),index_of:e=>b(async([t,r],n)=>{oe(t),r&&P(r);const s=r?r.value<0?e.value.length+r.value:r.value:void 0;return M(au(e.value,t.value,s))}),incl:e=>b(async([t],r)=>(oe(t),e.value.includes(t.value)?ke:Fe)),trim:e=>b(async(t,r)=>G(e.value.trim())),upper:e=>b(async(t,r)=>G(e.value.toUpperCase())),lower:e=>b(async(t,r)=>G(e.value.toLowerCase())),split:e=>b(async([t],r)=>(t&&oe(t),pe(t?e.value.split(t?t.value:"").map(n=>G(n)):fn(e.value).map(n=>G(n))))),slice:e=>b(async([t,r],n)=>(P(t),P(r),G(ru(e.value,t.value,r.value)))),pick:e=>b(async([t],r)=>{P(t);const s=fn(e.value)[t.value];return s?G(s):Z}),charcode_at:e=>b(([t],r)=>{P(t);const n=e.value.charCodeAt(t.value);return Number.isNaN(n)?Z:M(n)}),codepoint_at:e=>b(([t],r)=>{P(t);const n=e.value.codePointAt(t.value)??e.value.charCodeAt(t.value);return Number.isNaN(n)?Z:M(n)}),starts_with:e=>b(async([t,r],n)=>{if(oe(t),!t.value)return ke;r&&P(r);const s=r?.value??0;if(s<-e.value.length||s>e.value.length)return Fe;const i=s>=0?s:e.value.length+s;return e.value.startsWith(t.value,i)?ke:Fe}),ends_with:e=>b(async([t,r],n)=>{if(oe(t),!t.value)return ke;r&&P(r);const s=r?.value??e.value.length;if(s<-e.value.length||s>e.value.length)return Fe;const i=s>=0?s:e.value.length+s;return e.value.endsWith(t.value,i)?ke:Fe}),pad_start:e=>b(([t,r],n)=>{P(t);const s=r?(oe(r),r.value):" ";return G(e.value.padStart(t.value,s))}),pad_end:e=>b(([t,r],n)=>{P(t);const s=r?(oe(r),r.value):" ";return G(e.value.padEnd(t.value,s))})},arr:{len:e=>M(e.value.length),push:e=>b(async([t],r)=>(Ne(t),e.value.push(t),e)),unshift:e=>b(async([t],r)=>(Ne(t),e.value.unshift(t),e)),pop:e=>b(async(t,r)=>e.value.pop()??Z),shift:e=>b(async(t,r)=>e.value.shift()??Z),concat:e=>b(async([t],r)=>(bt(t),pe(e.value.concat(t.value)))),slice:e=>b(async([t,r],n)=>(P(t),P(r),pe(e.value.slice(t.value,r.value)))),join:e=>b(async([t],r)=>(t&&oe(t),G(e.value.map(n=>n.type==="str"?n.value:"").join(t?t.value:"")))),map:e=>b(async([t],r)=>{we(t);const n=e.value.map(async(s,i)=>await r.call(t,[s,M(i)]));return pe(await Promise.all(n))}),filter:e=>b(async([t],r)=>{we(t);const n=[];for(let s=0;s<e.value.length;s++){const i=e.value[s],o=await r.call(t,[i,M(s)]);Oe(o),o.value&&n.push(i)}return pe(n)}),reduce:e=>b(async([t,r],n)=>{we(t);const s=r!=null;if(!s&&e.value.length===0)throw new ne("Reduce of empty array without initial value");let i=s?r:e.value[0];for(let o=s?0:1;o<e.value.length;o++){const a=e.value[o];i=await n.call(t,[i,a,M(o)])}return i}),find:e=>b(async([t],r)=>{we(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,M(n)]);if(Oe(i),i.value)return s}return Z}),incl:e=>b(async([t],r)=>(Ne(t),e.value.some(n=>Vt(t,n))?ke:Fe)),index_of:e=>b(async([t,r],n)=>{if(Ne(t),r){P(r);const s=e.value.slice(0,r.value).length,i=e.value.slice(r.value).findIndex(o=>Vt(o,t));return M(i<0?i:i+s)}else return M(e.value.findIndex(s=>Vt(s,t)))}),reverse:e=>b(async(t,r)=>(e.value.reverse(),Z)),copy:e=>b(async(t,r)=>pe([...e.value])),sort:e=>b(async([t],r)=>{const n=async(i,o)=>{if(i.length<=1)return i;const a=Math.floor(i.length/2),l=n(i.slice(0,a),o),c=n(i.slice(a),o),[m,g]=await Promise.all([l,c]);return s(m,g,o)},s=async(i,o,a)=>{const l=[];let c=0,m=0;for(;c<i.length&&m<o.length;){const g=i[c],x=o[m],_=await r.call(a,[g,x]);P(_),_.value<=0?(l.push(i[c]),c++):(l.push(o[m]),m++)}return l.concat(i.slice(c)).concat(o.slice(m))};return we(t),bt(e),e.value=await n(e.value,t),e}),fill:e=>b(async([t,r,n],s)=>{const i=t??Z,o=r&&(P(r),r.value),a=n&&(P(n),n.value);return e.value.fill(i,o,a),e}),repeat:e=>b(async([t],r)=>{P(t);try{return pe(Array(t.value).fill(e.value).flat())}catch(n){throw t.value<0?new ne("arr.repeat expected non-negative number, got negative"):Number.isInteger(t.value)?n:new ne("arr.repeat expected integer, got non-integer")}}),splice:e=>b(async([t,r,n],s)=>{P(t);const i=t.value<-e.value.length?0:t.value<0?e.value.length+t.value:t.value>=e.value.length?e.value.length:t.value,o=r!=null?(P(r),r.value):e.value.length-i,a=n!=null?(bt(n),n.value):[],l=e.value.splice(i,o,...a);return pe(l)}),flat:e=>b(async([t],r)=>{if(t=t??M(1),P(t),!Number.isInteger(t.value))throw new ne("arr.flat expected integer, got non-integer");if(t.value<0)throw new ne("arr.flat expected non-negative number, got negative");const n=(i,o,a)=>{if(o===0){a.push(...i);return}for(const l of i)qr(l)?n(l.value,o-1,a):a.push(l)},s=[];return n(e.value,t.value,s),pe(s)}),flat_map:e=>b(async([t],r)=>{we(t);const n=e.value.map(async(i,o)=>{const a=await r.call(t,[i,M(o)]);return qr(a)?a.value:a}),s=await Promise.all(n);return pe(s.flat())}),every:e=>b(async([t],r)=>{we(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,M(n)]);if(Oe(i),!i.value)return Fe}return ke}),some:e=>b(async([t],r)=>{we(t);for(let n=0;n<e.value.length;n++){const s=e.value[n],i=await r.call(t,[s,M(n)]);if(Oe(i),i.value)return ke}return Fe}),insert:e=>b(async([t,r],n)=>(P(t),Ne(r),e.value.splice(t.value,0,r),Z)),remove:e=>b(async([t],r)=>(P(t),e.value.splice(t.value,1)[0]??Z)),at:e=>b(async([t,r],n)=>(P(t),e.value.at(t.value)??r??Z))},error:{name:e=>G(e.value),info:e=>e.info??Z}};function ou(e,t){if(Object.hasOwn(Bs,e.type)){const r=Bs[e.type];if(Object.hasOwn(r,t))return r[t](e);throw new ne(`No such prop (${t}) in ${e.type}.`)}else throw new ne(`Cannot read prop of ${e.type}. (reading ${t})`)}const lu={mut(e){return{isMutable:!0,value:e}},const(e){return{isMutable:!1,value:e}}};var Re=globalThis&&globalThis.__decorate||function(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};const Ji=300,uu=Ji-1;class Ie{opts;stepCount=0;stop=!1;scope;abortHandlers=[];vars={};constructor(t,r={}){this.opts=r;const n={print:b(([s])=>{Ne(s),this.opts.out&&this.opts.out(s)}),readline:b(async s=>{const i=s[0];if(oe(i),this.opts.in==null)return Z;const o=await this.opts.in(i.value);return G(o)})};this.vars=Object.fromEntries(Object.entries({...t,...Gl,...n}).map(([s,i])=>[s,lu.const(i)])),this.scope=new Ve([new Map(Object.entries(this.vars))]),this.scope.opts.log=(s,i)=>{switch(s){case"add":this.log("var:add",i);break;case"read":this.log("var:read",i);break;case"write":this.log("var:write",i);break}}}async exec(t){if(!(t==null||t.length===0))try{await this.collectNs(t);const r=await this._run(t,this.scope);this.log("end",{val:r})}catch(r){this.handleError(r)}}async execFn(t,r){return await this._fn(t,r).catch(n=>(this.handleError(n),Nr("func_failed")))}execFnSimple(t,r){return this._fn(t,r)}static collectMetadata(t){if(t==null||t.length===0)return;function r(s){switch(s.type){case"arr":return s.value.map(i=>r(i));case"bool":return s.value;case"null":return null;case"num":return s.value;case"obj":{const i={};for(const[o,a]of s.value.entries())i[o]=r(a);return i}case"str":return s.value;default:return}}const n=new Map;for(const s of t)switch(s.type){case"meta":{n.set(s.name,r(s.value));break}}return n}handleError(t){if(!this.opts.err)throw t;if(this.opts.abortOnError){if(this.stop)return;this.abort()}t instanceof Et?this.opts.err(t):this.opts.err(new Ts(t))}log(t,r){this.opts.log&&this.opts.log(t,r)}async collectNs(t,r=this.scope){for(const n of t)switch(n.type){case"ns":{await this.collectNsMember(n,r);break}}}async collectNsMember(t,r=this.scope){const n=r.createChildNamespaceScope(t.name);await this.collectNs(t.members,n);for(const s of t.members)switch(s.type){case"def":{if(s.mut)throw new Ls('No "var" in namespace declaration: '+s.name,s.loc.start);const i={isMutable:s.mut,value:await this._eval(s.expr,n)};n.add(s.name,i);break}case"ns":break;default:{const o=s;throw new Ls("invalid ns member type: "+o.type,o.loc.start)}}}async _fn(t,r){if(t.native)return t.native(r,{call:this.execFnSimple,topCall:this.execFn,registerAbortHandler:this.registerAbortHandler,unregisterAbortHandler:this.unregisterAbortHandler})??Z;{const n=new Map;for(const i of t.args.keys()){const o=t.args[i];o.default||Ne(r[i]),n.set(o.name,{isMutable:!0,value:r[i]??o.default})}const s=t.scope.createChildScope(n);return Yl(await this._run(t.statements,s))}}_eval(t,r){return this.__eval(t,r).catch(n=>{if(n.pos)throw n;{const s=n instanceof Et?n:new Ts(n);throw s.pos=t.loc.start,s.message=`${s.message} (Line ${s.pos.line}, Column ${s.pos.column})`,s}})}async __eval(t,r){if(this.stop)return Z;if(this.stepCount%Ji===uu&&await new Promise(n=>setTimeout(n,5)),this.stepCount++,this.opts.maxStep&&this.stepCount>this.opts.maxStep)throw new ne("max step exceeded");switch(t.type){case"call":{const n=await this._eval(t.target,r);we(n);const s=await Promise.all(t.args.map(i=>this._eval(i,r)));return this._fn(n,s)}case"if":{const n=await this._eval(t.cond,r);if(Oe(n),n.value)return this._eval(t.then,r);if(t.elseif&&t.elseif.length>0){for(const s of t.elseif){const i=await this._eval(s.cond,r);if(Oe(i),i.value)return this._eval(s.then,r)}if(t.else)return this._eval(t.else,r)}else if(t.else)return this._eval(t.else,r);return Z}case"match":{const n=await this._eval(t.about,r);for(const s of t.qs){const i=await this._eval(s.q,r);if(Vt(n,i))return await this._eval(s.a,r)}return t.default?await this._eval(t.default,r):Z}case"loop":{for(;;){const n=await this._run(t.statements,r.createChildScope());if(n.type==="break")break;if(n.type==="return")return n}return Z}case"for":{if(t.times){const n=await this._eval(t.times,r);P(n);for(let s=0;s<n.value;s++){const i=await this._eval(t.for,r);if(i.type==="break")break;if(i.type==="return")return i}}else{const n=await this._eval(t.from,r),s=await this._eval(t.to,r);P(n),P(s);for(let i=n.value;i<n.value+s.value;i++){const o=await this._eval(t.for,r.createChildScope(new Map([[t.var,{isMutable:!1,value:M(i)}]])));if(o.type==="break")break;if(o.type==="return")return o}}return Z}case"each":{const n=await this._eval(t.items,r);bt(n);for(const s of n.value){const i=await this._eval(t.for,r.createChildScope(new Map([[t.var,{isMutable:!1,value:s}]])));if(i.type==="break")break;if(i.type==="return")return i}return Z}case"def":{const n=await this._eval(t.expr,r);if(t.attr.length>0){const s=[];for(const i of t.attr)s.push({name:i.name,value:await this._eval(i.value,r)});n.attr=s}return r.add(t.name,{isMutable:t.mut,value:n}),Z}case"identifier":return r.get(t.name);case"assign":{const n=await this._eval(t.expr,r);return await this.assign(r,t.dest,n),Z}case"addAssign":{const n=await this._eval(t.dest,r);P(n);const s=await this._eval(t.expr,r);return P(s),await this.assign(r,t.dest,M(n.value+s.value)),Z}case"subAssign":{const n=await this._eval(t.dest,r);P(n);const s=await this._eval(t.expr,r);return P(s),await this.assign(r,t.dest,M(n.value-s.value)),Z}case"null":return Z;case"bool":return $t(t.value);case"num":return M(t.value);case"str":return G(t.value);case"arr":return pe(await Promise.all(t.value.map(n=>this._eval(n,r))));case"obj":{const n=new Map;for(const s of t.value.keys())n.set(s,await this._eval(t.value.get(s),r));return Kr(n)}case"prop":{const n=await this._eval(t.target,r);return cn(n)?n.value.has(t.name)?n.value.get(t.name):Z:ou(n,t.name)}case"index":{const n=await this._eval(t.target,r),s=await this._eval(t.index,r);if(qr(n)){P(s);const i=n.value[s.value];if(i===void 0)throw new Ds(`Index out of range. index: ${s.value} max: ${n.value.length-1}`);return i}else{if(cn(n))return oe(s),n.value.has(s.value)?n.value.get(s.value):Z;throw new ne(`Cannot read prop (${Yt(s)}) of ${n.type}.`)}}case"not":{const n=await this._eval(t.expr,r);return Oe(n),$t(!n.value)}case"fn":return Hl(await Promise.all(t.args.map(async n=>({name:n.name,default:n.default?await this._eval(n.default,r):n.optional?Z:void 0}))),t.children,r);case"block":return this._run(t.statements,r.createChildScope());case"exists":return $t(r.exists(t.identifier.name));case"tmpl":{let n="";for(const s of t.tmpl)if(typeof s=="string")n+=s;else{const i=await this._eval(s,r);n+=Yt(i)}return G(n)}case"return":{const n=await this._eval(t.expr,r);return this.log("block:return",{scope:r.name,val:n}),zl(n)}case"break":return this.log("block:break",{scope:r.name}),Wl();case"continue":return this.log("block:continue",{scope:r.name}),Vl();case"ns":return Z;case"meta":return Z;case"pow":{const n=r.get("Core:pow");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"mul":{const n=r.get("Core:mul");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"div":{const n=r.get("Core:div");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"rem":{const n=r.get("Core:mod");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"add":{const n=r.get("Core:add");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"sub":{const n=r.get("Core:sub");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"lt":{const n=r.get("Core:lt");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"lteq":{const n=r.get("Core:lteq");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"gt":{const n=r.get("Core:gt");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"gteq":{const n=r.get("Core:gteq");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"eq":{const n=r.get("Core:eq");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"neq":{const n=r.get("Core:neq");we(n);const s=await this._eval(t.left,r),i=await this._eval(t.right,r);return this._fn(n,[s,i])}case"and":{const n=await this._eval(t.left,r);if(Oe(n),n.value){const s=await this._eval(t.right,r);return Oe(s),s}else return n}case"or":{const n=await this._eval(t.left,r);if(Oe(n),n.value)return n;{const s=await this._eval(t.right,r);return Oe(s),s}}default:throw new Error("invalid node type")}}async _run(t,r){this.log("block:enter",{scope:r.name});let n=Z;for(let s=0;s<t.length;s++){const i=t[s];if(n=await this._eval(i,r),n.type==="return")return this.log("block:return",{scope:r.name,val:n.value}),n;if(n.type==="break")return this.log("block:break",{scope:r.name}),n;if(n.type==="continue")return this.log("block:continue",{scope:r.name}),n}return this.log("block:leave",{scope:r.name,val:n}),n}registerAbortHandler(t){this.abortHandlers.push(t)}unregisterAbortHandler(t){this.abortHandlers=this.abortHandlers.filter(r=>r!==t)}abort(){this.stop=!0;for(const t of this.abortHandlers)t();this.abortHandlers=[]}async assign(t,r,n){if(r.type==="identifier")t.assign(r.name,n);else if(r.type==="index"){const s=await this._eval(r.target,t),i=await this._eval(r.index,t);if(qr(s)){if(P(i),s.value[i.value]===void 0)throw new Ds(`Index out of range. index: ${i.value} max: ${s.value.length-1}`);s.value[i.value]=n}else if(cn(s))oe(i),s.value.set(i.value,n);else throw new ne(`Cannot read prop (${Yt(i)}) of ${s.type}.`)}else if(r.type==="prop"){const s=await this._eval(r.target,t);et(s),s.value.set(r.name,n)}else if(r.type==="arr")bt(n),await Promise.all(r.value.map((s,i)=>this.assign(t,s,n.value[i]??Z)));else if(r.type==="obj")et(n),await Promise.all([...r.value].map(([s,i])=>this.assign(t,i,n.value.get(s)??Z)));else throw new ne("The left-hand side of an assignment expression must be a variable or a property/index access.")}}Re([ve],Ie.prototype,"exec",null);Re([ve],Ie.prototype,"execFn",null);Re([ve],Ie.prototype,"execFnSimple",null);Re([ve],Ie.prototype,"handleError",null);Re([ve],Ie.prototype,"log",null);Re([ve],Ie.prototype,"collectNs",null);Re([ve],Ie.prototype,"collectNsMember",null);Re([ve],Ie.prototype,"_fn",null);Re([ve],Ie.prototype,"_eval",null);Re([ve],Ie.prototype,"__eval",null);Re([ve],Ie.prototype,"_run",null);Re([ve],Ie.prototype,"registerAbortHandler",null);Re([ve],Ie.prototype,"unregisterAbortHandler",null);Re([ve],Ie.prototype,"abort",null);Re([ve],Ie.prototype,"assign",null);Re([ve],Ie,"collectMetadata",null);class cu{pages;firstPageIndex;lastPageIndex;pageIndex;address;_char;line;column;constructor(t,r){this.pages=new Map,this.pages.set(0,t),this.firstPageIndex=0,this.lastPageIndex=0,this.pageIndex=0,this.address=0,this.line=r?.line??0,this.column=r?.column??0,this.moveNext()}get eof(){return this.endOfPage&&this.isLastPage}get char(){if(this.eof)throw new Error("end of stream");return this._char}getPos(){return{line:this.line+1,column:this.column+1}}next(){!this.eof&&this._char===`
`?(this.line++,this.column=0):this.column++,this.incAddr(),this.moveNext()}prev(){this.decAddr(),this.movePrev()}get isFirstPage(){return this.pageIndex<=this.firstPageIndex}get isLastPage(){return this.pageIndex>=this.lastPageIndex}get endOfPage(){const t=this.pages.get(this.pageIndex);return this.address>=t.length}moveNext(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.incAddr(),this.loadChar();continue}break}}incAddr(){this.endOfPage?this.isLastPage||(this.pageIndex++,this.address=0):this.address++}movePrev(){for(this.loadChar();;){if(!this.eof&&this._char==="\r"){this.decAddr(),this.loadChar();continue}break}}decAddr(){this.address>0?this.address--:this.isFirstPage||(this.pageIndex--,this.address=this.pages.get(this.pageIndex).length-1)}loadChar(){this.eof?this._char=void 0:this._char=this.pages.get(this.pageIndex)[this.address]}}var u;(function(e){e[e.EOF=0]="EOF",e[e.NewLine=1]="NewLine",e[e.Identifier=2]="Identifier",e[e.NumberLiteral=3]="NumberLiteral",e[e.StringLiteral=4]="StringLiteral",e[e.Template=5]="Template",e[e.TemplateStringElement=6]="TemplateStringElement",e[e.TemplateExprElement=7]="TemplateExprElement",e[e.NullKeyword=8]="NullKeyword",e[e.TrueKeyword=9]="TrueKeyword",e[e.FalseKeyword=10]="FalseKeyword",e[e.EachKeyword=11]="EachKeyword",e[e.ForKeyword=12]="ForKeyword",e[e.LoopKeyword=13]="LoopKeyword",e[e.DoKeyword=14]="DoKeyword",e[e.WhileKeyword=15]="WhileKeyword",e[e.BreakKeyword=16]="BreakKeyword",e[e.ContinueKeyword=17]="ContinueKeyword",e[e.MatchKeyword=18]="MatchKeyword",e[e.CaseKeyword=19]="CaseKeyword",e[e.DefaultKeyword=20]="DefaultKeyword",e[e.IfKeyword=21]="IfKeyword",e[e.ElifKeyword=22]="ElifKeyword",e[e.ElseKeyword=23]="ElseKeyword",e[e.ReturnKeyword=24]="ReturnKeyword",e[e.EvalKeyword=25]="EvalKeyword",e[e.VarKeyword=26]="VarKeyword",e[e.LetKeyword=27]="LetKeyword",e[e.ExistsKeyword=28]="ExistsKeyword",e[e.Not=29]="Not",e[e.NotEq=30]="NotEq",e[e.OpenSharpBracket=31]="OpenSharpBracket",e[e.Sharp3=32]="Sharp3",e[e.Percent=33]="Percent",e[e.And2=34]="And2",e[e.OpenParen=35]="OpenParen",e[e.CloseParen=36]="CloseParen",e[e.Asterisk=37]="Asterisk",e[e.Plus=38]="Plus",e[e.PlusEq=39]="PlusEq",e[e.Comma=40]="Comma",e[e.Minus=41]="Minus",e[e.MinusEq=42]="MinusEq",e[e.Dot=43]="Dot",e[e.Slash=44]="Slash",e[e.Colon=45]="Colon",e[e.Colon2=46]="Colon2",e[e.SemiColon=47]="SemiColon",e[e.Lt=48]="Lt",e[e.LtEq=49]="LtEq",e[e.Out=50]="Out",e[e.Eq=51]="Eq",e[e.Eq2=52]="Eq2",e[e.Arrow=53]="Arrow",e[e.Gt=54]="Gt",e[e.GtEq=55]="GtEq",e[e.Question=56]="Question",e[e.At=57]="At",e[e.OpenBracket=58]="OpenBracket",e[e.BackSlash=59]="BackSlash",e[e.CloseBracket=60]="CloseBracket",e[e.Hat=61]="Hat",e[e.OpenBrace=62]="OpenBrace",e[e.Or2=63]="Or2",e[e.CloseBrace=64]="CloseBrace"})(u||(u={}));class fu{kind;pos;hasLeftSpacing;value;children;constructor(t,r,n=!1,s,i){this.kind=t,this.pos=r,this.hasLeftSpacing=n,this.value=s,this.children=i}}function R(e,t,r){return new fu(e,t,r?.hasLeftSpacing,r?.value,r?.children)}const js=[" ","	"],hu=["\r",`
`],Ks=/^[0-9]$/,pu=/^[A-Za-z0-9_]$/;class du{stream;_tokens=[];constructor(t){typeof t=="string"?this.stream=new cu(t):this.stream=t,this._tokens.push(this.readToken())}getToken(){return this._tokens[0]}is(t){return this.getTokenKind()===t}getTokenKind(){return this.getToken().kind}getTokenValue(){return this.getToken().value}getPos(){return this.getToken().pos}next(){this._tokens[0].kind!==u.EOF&&(this._tokens.shift(),this._tokens.length===0&&this._tokens.push(this.readToken()))}lookahead(t){for(;this._tokens.length<=t;)this._tokens.push(this.readToken());return this._tokens[t]}expect(t){if(!this.is(t))throw new re(`unexpected token: ${u[this.getTokenKind()]}`,this.getPos())}readToken(){let t,r=!1;for(;;){if(this.stream.eof){t=R(u.EOF,this.stream.getPos(),{hasLeftSpacing:r});break}if(js.includes(this.stream.char)){this.stream.next(),r=!0;continue}const n=this.stream.getPos();if(hu.includes(this.stream.char))return this.stream.next(),t=R(u.NewLine,n,{hasLeftSpacing:r}),t;switch(this.stream.char){case"!":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),t=R(u.NotEq,n,{hasLeftSpacing:r})):t=R(u.Not,n,{hasLeftSpacing:r});break}case'"':case"'":{t=this.readStringLiteral(r);break}case"#":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="#")this.stream.next(),!this.stream.eof&&this.stream.char==="#"&&(this.stream.next(),t=R(u.Sharp3,n,{hasLeftSpacing:r}));else if(!this.stream.eof&&this.stream.char==="[")this.stream.next(),t=R(u.OpenSharpBracket,n,{hasLeftSpacing:r});else throw new re('invalid character: "#"',n);break}case"%":{this.stream.next(),t=R(u.Percent,n,{hasLeftSpacing:r});break}case"&":{this.stream.next(),!this.stream.eof&&this.stream.char==="&"&&(this.stream.next(),t=R(u.And2,n,{hasLeftSpacing:r}));break}case"(":{this.stream.next(),t=R(u.OpenParen,n,{hasLeftSpacing:r});break}case")":{this.stream.next(),t=R(u.CloseParen,n,{hasLeftSpacing:r});break}case"*":{this.stream.next(),t=R(u.Asterisk,n,{hasLeftSpacing:r});break}case"+":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),t=R(u.PlusEq,n,{hasLeftSpacing:r})):t=R(u.Plus,n,{hasLeftSpacing:r});break}case",":{this.stream.next(),t=R(u.Comma,n,{hasLeftSpacing:r});break}case"-":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),t=R(u.MinusEq,n,{hasLeftSpacing:r})):t=R(u.Minus,n,{hasLeftSpacing:r});break}case".":{this.stream.next(),t=R(u.Dot,n,{hasLeftSpacing:r});break}case"/":{if(this.stream.next(),!this.stream.eof&&this.stream.char==="*"){this.stream.next(),this.skipCommentRange();continue}else if(!this.stream.eof&&this.stream.char==="/"){this.stream.next(),this.skipCommentLine();continue}else t=R(u.Slash,n,{hasLeftSpacing:r});break}case":":{this.stream.next(),!this.stream.eof&&this.stream.char===":"?(this.stream.next(),t=R(u.Colon2,n,{hasLeftSpacing:r})):t=R(u.Colon,n,{hasLeftSpacing:r});break}case";":{this.stream.next(),t=R(u.SemiColon,n,{hasLeftSpacing:r});break}case"<":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),t=R(u.LtEq,n,{hasLeftSpacing:r})):!this.stream.eof&&this.stream.char===":"?(this.stream.next(),t=R(u.Out,n,{hasLeftSpacing:r})):t=R(u.Lt,n,{hasLeftSpacing:r});break}case"=":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),t=R(u.Eq2,n,{hasLeftSpacing:r})):!this.stream.eof&&this.stream.char===">"?(this.stream.next(),t=R(u.Arrow,n,{hasLeftSpacing:r})):t=R(u.Eq,n,{hasLeftSpacing:r});break}case">":{this.stream.next(),!this.stream.eof&&this.stream.char==="="?(this.stream.next(),t=R(u.GtEq,n,{hasLeftSpacing:r})):t=R(u.Gt,n,{hasLeftSpacing:r});break}case"?":{this.stream.next(),t=R(u.Question,n,{hasLeftSpacing:r});break}case"@":{this.stream.next(),t=R(u.At,n,{hasLeftSpacing:r});break}case"[":{this.stream.next(),t=R(u.OpenBracket,n,{hasLeftSpacing:r});break}case"\\":{this.stream.next(),t=R(u.BackSlash,n,{hasLeftSpacing:r});break}case"]":{this.stream.next(),t=R(u.CloseBracket,n,{hasLeftSpacing:r});break}case"^":{this.stream.next(),t=R(u.Hat,n,{hasLeftSpacing:r});break}case"`":{t=this.readTemplate(r);break}case"{":{this.stream.next(),t=R(u.OpenBrace,n,{hasLeftSpacing:r});break}case"|":{this.stream.next(),!this.stream.eof&&this.stream.char==="|"&&(this.stream.next(),t=R(u.Or2,n,{hasLeftSpacing:r}));break}case"}":{this.stream.next(),t=R(u.CloseBrace,n,{hasLeftSpacing:r});break}}if(t==null){const s=this.tryReadDigits(r);if(s){t=s;break}const i=this.tryReadWord(r);if(i){t=i;break}throw new re(`invalid character: "${this.stream.char}"`,n)}break}return t}tryReadWord(t){let r="";const n=this.stream.getPos();for(;!this.stream.eof&&pu.test(this.stream.char);)r+=this.stream.char,this.stream.next();if(r.length!==0)switch(r){case"null":return R(u.NullKeyword,n,{hasLeftSpacing:t});case"true":return R(u.TrueKeyword,n,{hasLeftSpacing:t});case"false":return R(u.FalseKeyword,n,{hasLeftSpacing:t});case"each":return R(u.EachKeyword,n,{hasLeftSpacing:t});case"for":return R(u.ForKeyword,n,{hasLeftSpacing:t});case"loop":return R(u.LoopKeyword,n,{hasLeftSpacing:t});case"do":return R(u.DoKeyword,n,{hasLeftSpacing:t});case"while":return R(u.WhileKeyword,n,{hasLeftSpacing:t});case"break":return R(u.BreakKeyword,n,{hasLeftSpacing:t});case"continue":return R(u.ContinueKeyword,n,{hasLeftSpacing:t});case"match":return R(u.MatchKeyword,n,{hasLeftSpacing:t});case"case":return R(u.CaseKeyword,n,{hasLeftSpacing:t});case"default":return R(u.DefaultKeyword,n,{hasLeftSpacing:t});case"if":return R(u.IfKeyword,n,{hasLeftSpacing:t});case"elif":return R(u.ElifKeyword,n,{hasLeftSpacing:t});case"else":return R(u.ElseKeyword,n,{hasLeftSpacing:t});case"return":return R(u.ReturnKeyword,n,{hasLeftSpacing:t});case"eval":return R(u.EvalKeyword,n,{hasLeftSpacing:t});case"var":return R(u.VarKeyword,n,{hasLeftSpacing:t});case"let":return R(u.LetKeyword,n,{hasLeftSpacing:t});case"exists":return R(u.ExistsKeyword,n,{hasLeftSpacing:t});default:return R(u.Identifier,n,{hasLeftSpacing:t,value:r})}}tryReadDigits(t){let r="",n="";const s=this.stream.getPos();for(;!this.stream.eof&&Ks.test(this.stream.char);)r+=this.stream.char,this.stream.next();if(r.length===0)return;if(!this.stream.eof&&this.stream.char==="."){for(this.stream.next();!this.stream.eof&&Ks.test(this.stream.char);)n+=this.stream.char,this.stream.next();if(n.length===0)throw new re("digit expected",s)}let i;return n.length>0?i=r+"."+n:i=r,R(u.NumberLiteral,s,{hasLeftSpacing:t,value:i})}readStringLiteral(t){let r="";const n=this.stream.char;let s="string";const i=this.stream.getPos();for(this.stream.next();s!=="finish";)switch(s){case"string":{if(this.stream.eof)throw new re("unexpected EOF",i);if(this.stream.char==="\\"){this.stream.next(),s="escape";break}if(this.stream.char===n){this.stream.next(),s="finish";break}r+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new re("unexpected EOF",i);r+=this.stream.char,this.stream.next(),s="string";break}}return R(u.StringLiteral,i,{hasLeftSpacing:t,value:r})}readTemplate(t){const r=[];let n="",s=[],i="string";const o=this.stream.getPos();let a=o;for(this.stream.next();i!=="finish";)switch(i){case"string":{if(this.stream.eof)throw new re("unexpected EOF",o);if(this.stream.char==="\\"){this.stream.next(),i="escape";break}if(this.stream.char==="`"){this.stream.next(),n.length>0&&r.push(R(u.TemplateStringElement,a,{hasLeftSpacing:t,value:n})),i="finish";break}if(this.stream.char==="{"){this.stream.next(),n.length>0&&(r.push(R(u.TemplateStringElement,a,{hasLeftSpacing:t,value:n})),n=""),a=this.stream.getPos(),i="expr";break}n+=this.stream.char,this.stream.next();break}case"escape":{if(this.stream.eof)throw new re("unexpected EOF",o);n+=this.stream.char,this.stream.next(),i="string";break}case"expr":{if(this.stream.eof)throw new re("unexpected EOF",o);if(js.includes(this.stream.char)){this.stream.next();continue}if(this.stream.char==="}"){r.push(R(u.TemplateExprElement,a,{hasLeftSpacing:t,children:s})),a=this.stream.getPos(),s.push(R(u.EOF,a)),s=[],i="string",this.stream.next();break}const l=this.readToken();s.push(l);break}}return R(u.Template,o,{hasLeftSpacing:t,children:r})}skipCommentLine(){for(;!(this.stream.eof||this.stream.char===`
`);)this.stream.next()}skipCommentRange(){for(;!this.stream.eof;){if(this.stream.char==="*"){if(this.stream.next(),this.stream.char==="/"){this.stream.next();break}continue}this.stream.next()}}}function j(e,t,r,n){const s={type:e};for(const i of Object.keys(t))t[i]!==void 0&&(s[i]=t[i]);return s.loc={start:r,end:n},s}function gu(e,t,r,n){return j("call",{target:j("identifier",{name:e},r,r),args:t},r,n)}class mu{source;index;_token;constructor(t){this.source=t,this.index=0,this.load()}get eof(){return this.index>=this.source.length}getToken(){return this.eof?R(u.EOF,{line:-1,column:-1}):this._token}is(t){return this.getTokenKind()===t}getTokenValue(){return this.getToken().value}getTokenKind(){return this.getToken().kind}getPos(){return this.getToken().pos}next(){this.eof||this.index++,this.load()}lookahead(t){return this.index+t<this.source.length?this.source[this.index+t]:R(u.EOF,{line:-1,column:-1})}expect(t){if(!this.is(t))throw new re(`unexpected token: ${u[this.getTokenKind()]}`,this.getPos())}load(){this.eof?this._token=R(u.EOF,{line:-1,column:-1}):this._token=this.source[this.index]}}function ge(e,t){return t?Zi(e,!0):rs(e,0)}const hn=[{opKind:"postfix",kind:u.OpenParen,bp:20},{opKind:"postfix",kind:u.OpenBracket,bp:20},{opKind:"infix",kind:u.Dot,lbp:18,rbp:19},{opKind:"infix",kind:u.Hat,lbp:17,rbp:16},{opKind:"prefix",kind:u.Plus,bp:14},{opKind:"prefix",kind:u.Minus,bp:14},{opKind:"prefix",kind:u.Not,bp:14},{opKind:"infix",kind:u.Asterisk,lbp:12,rbp:13},{opKind:"infix",kind:u.Slash,lbp:12,rbp:13},{opKind:"infix",kind:u.Percent,lbp:12,rbp:13},{opKind:"infix",kind:u.Plus,lbp:10,rbp:11},{opKind:"infix",kind:u.Minus,lbp:10,rbp:11},{opKind:"infix",kind:u.Lt,lbp:8,rbp:9},{opKind:"infix",kind:u.LtEq,lbp:8,rbp:9},{opKind:"infix",kind:u.Gt,lbp:8,rbp:9},{opKind:"infix",kind:u.GtEq,lbp:8,rbp:9},{opKind:"infix",kind:u.Eq2,lbp:6,rbp:7},{opKind:"infix",kind:u.NotEq,lbp:6,rbp:7},{opKind:"infix",kind:u.And2,lbp:4,rbp:5},{opKind:"infix",kind:u.Or2,lbp:2,rbp:3}];function vu(e,t){const r=e.getPos(),n=e.getTokenKind();e.next(),e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next());const s=rs(e,t),i=s.loc.end;switch(n){case u.Plus:{if(s.type==="num")return j("num",{value:s.value},r,i);throw new re("currently, sign is only supported for number literal.",r)}case u.Minus:{if(s.type==="num")return j("num",{value:-1*s.value},r,i);throw new re("currently, sign is only supported for number literal.",r)}case u.Not:return j("not",{expr:s},r,i);default:throw new re(`unexpected token: ${u[n]}`,r)}}function yu(e,t,r){const n=e.getPos(),s=e.getTokenKind();if(e.next(),e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next()),s===u.Dot){e.expect(u.Identifier);const i=e.getTokenValue();return e.next(),j("prop",{target:t,name:i},n,e.getPos())}else{const i=rs(e,r),o=e.getPos();switch(s){case u.Hat:return j("pow",{left:t,right:i},n,o);case u.Asterisk:return j("mul",{left:t,right:i},n,o);case u.Slash:return j("div",{left:t,right:i},n,o);case u.Percent:return j("rem",{left:t,right:i},n,o);case u.Plus:return j("add",{left:t,right:i},n,o);case u.Minus:return j("sub",{left:t,right:i},n,o);case u.Lt:return j("lt",{left:t,right:i},n,o);case u.LtEq:return j("lteq",{left:t,right:i},n,o);case u.Gt:return j("gt",{left:t,right:i},n,o);case u.GtEq:return j("gteq",{left:t,right:i},n,o);case u.Eq2:return j("eq",{left:t,right:i},n,o);case u.NotEq:return j("neq",{left:t,right:i},n,o);case u.And2:return j("and",{left:t,right:i},n,o);case u.Or2:return j("or",{left:t,right:i},n,o);default:throw new re(`unexpected token: ${u[s]}`,n)}}}function xu(e,t){const r=e.getPos(),n=e.getTokenKind();switch(n){case u.OpenParen:return wu(e,t);case u.OpenBracket:{e.next();const s=ge(e,!1);return e.expect(u.CloseBracket),e.next(),j("index",{target:t,index:s},r,e.getPos())}default:throw new re(`unexpected token: ${u[n]}`,r)}}function Zi(e,t){const r=e.getPos();switch(e.getTokenKind()){case u.IfKeyword:{if(t)break;return bu(e)}case u.At:{if(t)break;return _u(e)}case u.MatchKeyword:{if(t)break;return Eu(e)}case u.EvalKeyword:{if(t)break;return Cu(e)}case u.ExistsKeyword:{if(t)break;return Au(e)}case u.Template:{const n=[];if(t)break;for(const[s,i]of e.getToken().children.entries())switch(i.kind){case u.TemplateStringElement:{const o=e.getToken().children[s+1]??e.lookahead(1);n.push(j("str",{value:i.value},i.pos,o.pos));break}case u.TemplateExprElement:{const o=new mu(i.children),a=ge(o,!1);o.expect(u.EOF),n.push(a);break}default:throw new re(`unexpected token: ${u[i.kind]}`,i.pos)}return e.next(),j("tmpl",{tmpl:n},r,e.getPos())}case u.StringLiteral:{const n=e.getTokenValue();return e.next(),j("str",{value:n},r,e.getPos())}case u.NumberLiteral:{const n=Number(e.getTokenValue());return e.next(),j("num",{value:n},r,e.getPos())}case u.TrueKeyword:case u.FalseKeyword:{const n=e.is(u.TrueKeyword);return e.next(),j("bool",{value:n},r,e.getPos())}case u.NullKeyword:return e.next(),j("null",{},r,e.getPos());case u.OpenBrace:return Pu(e,t);case u.OpenBracket:return ku(e,t);case u.Identifier:{if(t)break;return Xi(e)}case u.OpenParen:{e.next();const n=ge(e,t);return e.expect(u.CloseParen),e.next(),n}}throw new re(`unexpected token: ${u[e.getTokenKind()]}`,r)}function wu(e,t){const r=e.getPos(),n=[];for(e.expect(u.OpenParen),e.next(),e.is(u.NewLine)&&e.next();!e.is(u.CloseParen);)switch(n.push(ge(e,!1)),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseParen:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseParen),e.next(),j("call",{target:t,args:n},r,e.getPos())}function bu(e){const t=e.getPos();e.expect(u.IfKeyword),e.next();const r=ge(e,!1),n=ht(e);e.is(u.NewLine)&&[u.ElifKeyword,u.ElseKeyword].includes(e.lookahead(1).kind)&&e.next();const s=[];for(;e.is(u.ElifKeyword);){e.next();const o=ge(e,!1),a=ht(e);e.is(u.NewLine)&&[u.ElifKeyword,u.ElseKeyword].includes(e.lookahead(1).kind)&&e.next(),s.push({cond:o,then:a})}let i;return e.is(u.ElseKeyword)&&(e.next(),i=ht(e)),j("if",{cond:r,then:n,elseif:s,else:i},t,e.getPos())}function _u(e){const t=e.getPos();e.expect(u.At),e.next();const r=Gi(e);let n;e.is(u.Colon)&&(e.next(),n=It(e));const s=yr(e);return j("fn",{args:r,retType:n,children:s},t,e.getPos())}function Eu(e){const t=e.getPos();e.expect(u.MatchKeyword),e.next();const r=ge(e,!1);e.expect(u.OpenBrace),e.next(),e.is(u.NewLine)&&e.next();const n=[];for(;!e.is(u.DefaultKeyword)&&!e.is(u.CloseBrace);){e.expect(u.CaseKeyword),e.next();const i=ge(e,!1);e.expect(u.Arrow),e.next();const o=ht(e);switch(n.push({q:i,a:o}),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.DefaultKeyword:case u.CloseBrace:break;default:throw new re("separator expected",e.getPos())}}let s;if(e.is(u.DefaultKeyword))switch(e.next(),e.expect(u.Arrow),e.next(),s=ht(e),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseBrace:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseBrace),e.next(),j("match",{about:r,qs:n,default:s},t,e.getPos())}function Cu(e){const t=e.getPos();e.expect(u.EvalKeyword),e.next();const r=yr(e);return j("block",{statements:r},t,e.getPos())}function Au(e){const t=e.getPos();e.expect(u.ExistsKeyword),e.next();const r=Xi(e);return j("exists",{identifier:r},t,e.getPos())}function Xi(e){const t=e.getPos(),r=[];for(;;){if(r.length>0)if(e.is(u.Colon)){if(e.getToken().hasLeftSpacing)throw new re("Cannot use spaces in a reference.",e.getPos());if(e.next(),e.getToken().hasLeftSpacing)throw new re("Cannot use spaces in a reference.",e.getPos())}else break;e.expect(u.Identifier),r.push(e.getTokenValue()),e.next()}return j("identifier",{name:r.join(":")},t,e.getPos())}function Pu(e,t){const r=e.getPos();for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();const n=new Map;for(;!e.is(u.CloseBrace);){e.expect(u.Identifier);const s=e.getTokenValue();e.next(),e.expect(u.Colon),e.next();const i=ge(e,t);switch(n.set(s,i),e.getTokenKind()){case u.NewLine:case u.Comma:{for(e.next();e.is(u.NewLine);)e.next();break}case u.CloseBrace:break;default:throw new re("separator expected",e.getPos())}}return e.expect(u.CloseBrace),e.next(),j("obj",{value:n},r,e.getPos())}function ku(e,t){const r=e.getPos();for(e.expect(u.OpenBracket),e.next();e.is(u.NewLine);)e.next();const n=[];for(;!e.is(u.CloseBracket);)switch(n.push(ge(e,t)),e.getTokenKind()){case u.NewLine:case u.Comma:{for(e.next();e.is(u.NewLine);)e.next();break}case u.CloseBracket:break;default:throw new re("separator expected",e.getPos())}return e.expect(u.CloseBracket),e.next(),j("arr",{value:n},r,e.getPos())}function rs(e,t){let r;const n=e.getTokenKind(),s=hn.find(i=>i.opKind==="prefix"&&i.kind===n);for(s!=null?r=vu(e,s.bp):r=Zi(e,!1);;){e.is(u.BackSlash)&&(e.next(),e.expect(u.NewLine),e.next());const i=e.getTokenKind(),o=hn.find(l=>l.opKind==="postfix"&&l.kind===i);if(o!=null){if(o.bp<t)break;if(!([u.OpenBracket,u.OpenParen].includes(i)&&e.getToken().hasLeftSpacing)){r=xu(e,r);continue}}const a=hn.find(l=>l.opKind==="infix"&&l.kind===i);if(a!=null){if(a.lbp<t)break;r=yu(e,r,a.rbp);continue}break}return r}function Gi(e){const t=[];for(e.expect(u.OpenParen),e.next(),e.is(u.NewLine)&&e.next();!e.is(u.CloseParen);){e.expect(u.Identifier);const r=e.getTokenValue();e.next();let n=!1,s;e.is(u.Question)?(e.next(),n=!0):e.is(u.Eq)&&(e.next(),s=ge(e,!1));let i;switch(e.is(u.Colon)&&(e.next(),i=It(e)),t.push({name:r,optional:n,default:s,argType:i}),e.getTokenKind()){case u.NewLine:{e.next();break}case u.Comma:{e.next(),e.is(u.NewLine)&&e.next();break}case u.CloseParen:break;default:throw new re("separator expected",e.getPos())}}return e.expect(u.CloseParen),e.next(),t}function yr(e){for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();const t=[];for(;!e.is(u.CloseBrace);)switch(t.push(en(e)),e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.CloseBrace:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}return e.expect(u.CloseBrace),e.next(),t}function It(e){return e.is(u.At)?Fu(e):Mu(e)}function Fu(e){const t=e.getPos();e.expect(u.At),e.next(),e.expect(u.OpenParen),e.next();const r=[];for(;!e.is(u.CloseParen);){if(r.length>0)switch(e.getTokenKind()){case u.Comma:{e.next();break}default:throw new re("separator expected",e.getPos())}const s=It(e);r.push(s)}e.expect(u.CloseParen),e.next(),e.expect(u.Arrow),e.next();const n=It(e);return j("fnTypeSource",{args:r,result:n},t,e.getPos())}function Mu(e){const t=e.getPos();e.expect(u.Identifier);const r=e.getTokenValue();e.next();let n=null;return e.is(u.Lt)&&(e.next(),n=It(e),e.expect(u.Gt),e.next()),j("namedTypeSource",{name:r,inner:n},t,e.getPos())}function en(e){const t=e.getPos();switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:return Qi(e);case u.At:{if(e.lookahead(1).kind===u.Identifier)return ea(e);break}case u.Out:return $u(e);case u.ReturnKeyword:return Nu(e);case u.OpenSharpBracket:return Tu(e);case u.EachKeyword:return Ou(e);case u.ForKeyword:return Iu(e);case u.LoopKeyword:return Du(e);case u.DoKeyword:return Ru(e);case u.WhileKeyword:return Bu(e);case u.BreakKeyword:return e.next(),j("break",{},t,e.getPos());case u.ContinueKeyword:return e.next(),j("continue",{},t,e.getPos())}const r=ge(e,!1),n=ju(e,r);return n||r}function Su(e){switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:return Qi(e);case u.At:return ea(e);default:throw new re(`unexpected token: ${u[e.getTokenKind()]}`,e.getPos())}}function ht(e){if(e.is(u.OpenBrace)){const t=e.getPos(),r=yr(e);return j("block",{statements:r},t,e.getPos())}else return en(e)}function Qi(e){const t=e.getPos();let r;switch(e.getTokenKind()){case u.LetKeyword:{r=!1;break}case u.VarKeyword:{r=!0;break}default:throw new re(`unexpected token: ${u[e.getTokenKind()]}`,e.getPos())}e.next(),e.expect(u.Identifier);const n=e.getTokenValue();e.next();let s;e.is(u.Colon)&&(e.next(),s=It(e)),e.expect(u.Eq),e.next(),e.is(u.NewLine)&&e.next();const i=ge(e,!1);return j("def",{name:n,varType:s,expr:i,mut:r,attr:[]},t,e.getPos())}function ea(e){const t=e.getPos();e.expect(u.At),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();const n=Gi(e);let s;e.is(u.Colon)&&(e.next(),s=It(e));const i=yr(e),o=e.getPos();return j("def",{name:r,expr:j("fn",{args:n,retType:s,children:i},t,o),mut:!1,attr:[]},t,o)}function $u(e){const t=e.getPos();e.expect(u.Out),e.next();const r=ge(e,!1);return gu("print",[r],t,e.getPos())}function Ou(e){const t=e.getPos();let r=!1;e.expect(u.EachKeyword),e.next(),e.is(u.OpenParen)&&(r=!0,e.next()),e.expect(u.LetKeyword),e.next(),e.expect(u.Identifier);const n=e.getTokenValue();if(e.next(),e.is(u.Comma))e.next();else throw new re("separator expected",e.getPos());const s=ge(e,!1);r&&(e.expect(u.CloseParen),e.next());const i=ht(e);return j("each",{var:n,items:s,for:i},t,e.getPos())}function Iu(e){const t=e.getPos();let r=!1;if(e.expect(u.ForKeyword),e.next(),e.is(u.OpenParen)&&(r=!0,e.next()),e.is(u.LetKeyword)){e.next();const n=e.getPos();e.expect(u.Identifier);const s=e.getTokenValue();e.next();let i;if(e.is(u.Eq)?(e.next(),i=ge(e,!1)):i=j("num",{value:0},n,n),e.is(u.Comma))e.next();else throw new re("separator expected",e.getPos());const o=ge(e,!1);r&&(e.expect(u.CloseParen),e.next());const a=ht(e);return j("for",{var:s,from:i,to:o,for:a},t,e.getPos())}else{const n=ge(e,!1);r&&(e.expect(u.CloseParen),e.next());const s=ht(e);return j("for",{times:n,for:s},t,e.getPos())}}function Nu(e){const t=e.getPos();e.expect(u.ReturnKeyword),e.next();const r=ge(e,!1);return j("return",{expr:r},t,e.getPos())}function Tu(e){const t=[];for(;e.is(u.OpenSharpBracket);)t.push(Lu(e)),e.expect(u.NewLine),e.next();const r=en(e);if(r.type!=="def")throw new re("invalid attribute.",r.loc.start);return r.attr!=null?r.attr.push(...t):r.attr=t,r}function Lu(e){const t=e.getPos();e.expect(u.OpenSharpBracket),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();let n;if(!e.is(u.CloseBracket))n=ge(e,!0);else{const s=e.getPos();n=j("bool",{value:!0},s,s)}return e.expect(u.CloseBracket),e.next(),j("attr",{name:r,value:n},t,e.getPos())}function Du(e){const t=e.getPos();e.expect(u.LoopKeyword),e.next();const r=yr(e);return j("loop",{statements:r},t,e.getPos())}function Ru(e){const t=e.getPos();e.expect(u.DoKeyword),e.next();const r=ht(e),n=e.getPos();e.expect(u.WhileKeyword),e.next();const s=ge(e,!1),i=e.getPos();return j("loop",{statements:[r,j("if",{cond:j("not",{expr:s},n,i),then:j("break",{},i,i),elseif:[]},n,i)]},t,i)}function Bu(e){const t=e.getPos();e.expect(u.WhileKeyword),e.next();const r=ge(e,!1),n=e.getPos(),s=ht(e);return j("loop",{statements:[j("if",{cond:j("not",{expr:r},t,n),then:j("break",{},n,n),elseif:[]},t,n),s]},t,e.getPos())}function ju(e,t){const r=e.getPos();switch(e.getTokenKind()){case u.Eq:{e.next();const n=ge(e,!1);return j("assign",{dest:t,expr:n},r,e.getPos())}case u.PlusEq:{e.next();const n=ge(e,!1);return j("addAssign",{dest:t,expr:n},r,e.getPos())}case u.MinusEq:{e.next();const n=ge(e,!1);return j("subAssign",{dest:t,expr:n},r,e.getPos())}default:return}}function Ku(e){const t=[];for(;e.is(u.NewLine);)e.next();for(;!e.is(u.EOF);){switch(e.getTokenKind()){case u.Colon2:{t.push(ta(e));break}case u.Sharp3:{t.push(qu(e));break}default:{t.push(en(e));break}}switch(e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.EOF:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}}return t}function ta(e){const t=e.getPos();e.expect(u.Colon2),e.next(),e.expect(u.Identifier);const r=e.getTokenValue();e.next();const n=[];for(e.expect(u.OpenBrace),e.next();e.is(u.NewLine);)e.next();for(;!e.is(u.CloseBrace);){switch(e.getTokenKind()){case u.VarKeyword:case u.LetKeyword:case u.At:{n.push(Su(e));break}case u.Colon2:{n.push(ta(e));break}}switch(e.getTokenKind()){case u.NewLine:case u.SemiColon:{for(;e.is(u.NewLine)||e.is(u.SemiColon);)e.next();break}case u.CloseBrace:break;default:throw new re("Multiple statements cannot be placed on a single line.",e.getPos())}}return e.expect(u.CloseBrace),e.next(),j("ns",{name:r,members:n},t,e.getPos())}function qu(e){const t=e.getPos();e.expect(u.Sharp3),e.next();let r=null;e.is(u.Identifier)&&(r=e.getTokenValue(),e.next());const n=ge(e,!0);return j("meta",{name:r,value:n},t,n.loc.end)}function ee(e,t){const r=t(e);switch(r.type){case"def":{r.expr=ee(r.expr,t);break}case"return":{r.expr=ee(r.expr,t);break}case"each":{r.items=ee(r.items,t),r.for=ee(r.for,t);break}case"for":{r.from!=null&&(r.from=ee(r.from,t)),r.to!=null&&(r.to=ee(r.to,t)),r.times!=null&&(r.times=ee(r.times,t)),r.for=ee(r.for,t);break}case"loop":{for(let n=0;n<r.statements.length;n++)r.statements[n]=ee(r.statements[n],t);break}case"addAssign":case"subAssign":case"assign":{r.expr=ee(r.expr,t),r.dest=ee(r.dest,t);break}case"not":{r.expr=ee(r.expr,t);break}case"if":{r.cond=ee(r.cond,t),r.then=ee(r.then,t);for(const n of r.elseif)n.cond=ee(n.cond,t),n.then=ee(n.then,t);r.else!=null&&(r.else=ee(r.else,t));break}case"fn":{for(const n of r.args.keys())r.args[n].default&&(r.args[n].default=ee(r.args[n].default,t));for(let n=0;n<r.children.length;n++)r.children[n]=ee(r.children[n],t);break}case"match":{r.about=ee(r.about,t);for(const n of r.qs)n.q=ee(n.q,t),n.a=ee(n.a,t);r.default!=null&&(r.default=ee(r.default,t));break}case"block":{for(let n=0;n<r.statements.length;n++)r.statements[n]=ee(r.statements[n],t);break}case"exists":{r.identifier=ee(r.identifier,t);break}case"tmpl":{for(let n=0;n<r.tmpl.length;n++){const s=r.tmpl[n];typeof s!="string"&&(r.tmpl[n]=ee(s,t))}break}case"obj":{for(const n of r.value)r.value.set(n[0],ee(n[1],t));break}case"arr":{for(let n=0;n<r.value.length;n++)r.value[n]=ee(r.value[n],t);break}case"call":{r.target=ee(r.target,t);for(let n=0;n<r.args.length;n++)r.args[n]=ee(r.args[n],t);break}case"index":{r.target=ee(r.target,t),r.index=ee(r.index,t);break}case"prop":{r.target=ee(r.target,t);break}case"ns":{for(let n=0;n<r.members.length;n++)r.members[n]=ee(r.members[n],t);break}case"pow":case"mul":case"div":case"rem":case"add":case"sub":case"lt":case"lteq":case"gt":case"gteq":case"eq":case"neq":case"and":case"or":{r.left=ee(r.left,t),r.right=ee(r.right,t);break}}return r}const Bt=["as","async","attr","attribute","await","catch","class","component","constructor","dictionary","enum","export","finally","fn","hash","in","interface","out","private","public","ref","static","struct","table","this","throw","trait","try","undefined","use","using","when","yield","import","is","meta","module","namespace","new"];function jt(e,t){throw new re(`Reserved word "${e}" cannot be used as variable name.`,t.start)}function Uu(e){switch(e.type){case"ns":case"def":case"attr":case"identifier":case"prop":{Bt.includes(e.name)&&jt(e.name,e.loc);break}case"meta":{e.name!=null&&Bt.includes(e.name)&&jt(e.name,e.loc);break}case"each":{Bt.includes(e.var)&&jt(e.var,e.loc);break}case"for":{e.var!=null&&Bt.includes(e.var)&&jt(e.var,e.loc);break}case"fn":{for(const t of e.args)Bt.includes(t.name)&&jt(t.name,e.loc);break}case"obj":{for(const t of e.value.keys())Bt.includes(t)&&jt(t,e.loc);break}}return e}function Hu(e){for(const t of e)ee(t,Uu);return e}function qs(e){return{type:"simple",name:e}}function zu(e,t){return{type:"generic",name:e,inners:t}}function Wu(e,t){return{type:"fn",args:e,result:t}}function Tr(e){switch(e.type){case"namedTypeSource":if(e.inner){const t=Tr(e.inner);return`${e.name}<${t}>`}else return e.name;case"fnTypeSource":{const t=e.args.map(n=>Tr(n)).join(", "),r=Tr(e.result);return`@(${t}) { ${r} }`}}}function Jt(e){if(e.type==="namedTypeSource"){switch(e.name){case"null":case"bool":case"num":case"str":case"any":case"void":{if(e.inner==null)return qs(e.name);break}case"arr":case"obj":{let t;return e.inner!=null?t=Jt(e.inner):t=qs("any"),zu(e.name,[t])}}throw new re(`Unknown type: '${Tr(e)}'`,e.loc.start)}else{const t=e.args.map(r=>Jt(r));return Wu(t,Jt(e.result))}}function Vu(e){switch(e.type){case"def":{e.varType!=null&&Jt(e.varType);break}case"fn":{for(const t of e.args)t.argType!=null&&Jt(t.argType);e.retType!=null&&Jt(e.retType);break}}return e}function Yu(e){for(const t of e)ee(t,Vu);return e}class qt{static instance;plugins;constructor(){this.plugins={validate:[Hu,Yu],transform:[]}}static parse(t){return qt.instance==null&&(qt.instance=new qt),qt.instance.parse(t)}addPlugin(t,r){switch(t){case"validate":this.plugins.validate.push(r);break;case"transform":this.plugins.transform.push(r);break;default:throw new Error("unknown plugin type")}}parse(t){let r;const n=new du(t);r=Ku(n);for(const s of this.plugins.validate)r=s(r);for(const s of this.plugins.transform)r=s(r);return r}}function fr(){return fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fr.apply(this,arguments)}var Ju=13,Zu=9,Xu=8,Gu=89,Fr=90,Qu=77,Us=57,Hs=219,zs=222,Ws=192,ec=27,Vs=100,tc=3e3,rc=typeof window<"u"&&navigator&&/Win/i.test(navigator.platform),pn=typeof window<"u"&&navigator&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),nc=ho({props:{lineNumbers:{type:Boolean,default:!1},autoStyleLineNumbers:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},modelValue:{type:String,default:""},highlight:{type:Function,required:!0},tabSize:{type:Number,default:2},insertSpaces:{type:Boolean,default:!0},ignoreTabKey:{type:Boolean,default:!1},placeholder:{type:String,default:""}},data:function(){return{capture:!0,history:{stack:[],offset:-1},lineNumbersHeight:"20px",codeData:""}},watch:{modelValue:{immediate:!0,handler:function(t){t?this.codeData=t:this.codeData=""}},content:{immediate:!0,handler:function(){var t=this;this.lineNumbers&&this.$nextTick(function(){t.setLineNumbersHeight()})}},lineNumbers:function(){var t=this;this.$nextTick(function(){t.styleLineNumbers(),t.setLineNumbersHeight()})}},computed:{isEmpty:function(){return this.codeData.length===0},content:function(){var t=this.highlight(this.codeData)+"<br />";return t},lineNumbersCount:function(){var t=this.codeData.split(/\r\n|\n/).length;return t}},mounted:function(){this._recordCurrentState(),this.styleLineNumbers()},methods:{setLineNumbersHeight:function(){this.lineNumbersHeight=getComputedStyle(this.$refs.pre).height},styleLineNumbers:function(){if(!(!this.lineNumbers||!this.autoStyleLineNumbers)){var t=this.$refs.pre,r=this.$el.querySelector(".prism-editor__line-numbers"),n=window.getComputedStyle(t);this.$nextTick(function(){var s="border-top-left-radius",i="border-bottom-left-radius";if(!!r){r.style[s]=n[s],r.style[i]=n[i],t.style[s]="0",t.style[i]="0";var o=["background-color","margin-top","padding-top","font-family","font-size","line-height"];o.forEach(function(a){r.style[a]=n[a]}),r.style["margin-bottom"]="-"+n["padding-top"]}})}},_recordCurrentState:function(){var t=this.$refs.textarea;if(!!t){var r=t.value,n=t.selectionStart,s=t.selectionEnd;this._recordChange({value:r,selectionStart:n,selectionEnd:s})}},_getLines:function(t,r){return t.substring(0,r).split(`
`)},_applyEdits:function(t){var r=this.$refs.textarea,n=this.history.stack[this.history.offset];n&&r&&(this.history.stack[this.history.offset]=fr({},n,{selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})),this._recordChange(t),this._updateInput(t)},_recordChange:function(t,r){r===void 0&&(r=!1);var n=this.history,s=n.stack,i=n.offset;if(s.length&&i>-1){this.history.stack=s.slice(0,i+1);var o=this.history.stack.length;if(o>Vs){var a=o-Vs;this.history.stack=s.slice(a,o),this.history.offset=Math.max(this.history.offset-a,0)}}var l=Date.now();if(r){var c=this.history.stack[this.history.offset];if(c&&l-c.timestamp<tc){var m,g,x=/[^a-z0-9]([a-z0-9]+)$/i,_=(m=this._getLines(c.value,c.selectionStart).pop())===null||m===void 0?void 0:m.match(x),N=(g=this._getLines(t.value,t.selectionStart).pop())===null||g===void 0?void 0:g.match(x);if(_&&N&&N[1].startsWith(_[1])){this.history.stack[this.history.offset]=fr({},t,{timestamp:l});return}}}this.history.stack.push(fr({},t,{timestamp:l})),this.history.offset++},_updateInput:function(t){var r=this.$refs.textarea;!r||(r.value=t.value,r.selectionStart=t.selectionStart,r.selectionEnd=t.selectionEnd,this.$emit("update:modelValue",t.value))},handleChange:function(t){var r=t.target,n=r.value,s=r.selectionStart,i=r.selectionEnd;this._recordChange({value:n,selectionStart:s,selectionEnd:i},!0),this.$emit("update:modelValue",n)},_undoEdit:function(){var t=this.history,r=t.stack,n=t.offset,s=r[n-1];s&&(this._updateInput(s),this.history.offset=Math.max(n-1,0))},_redoEdit:function(){var t=this.history,r=t.stack,n=t.offset,s=r[n+1];s&&(this._updateInput(s),this.history.offset=Math.min(n+1,r.length-1))},handleKeyDown:function(t){var r=this.tabSize,n=this.insertSpaces,s=this.ignoreTabKey;if(this.$emit("keydown",t),!t.defaultPrevented){t.keyCode===ec&&(t.target.blur(),this.$emit("blur",t));var i=t.target,o=i.value,a=i.selectionStart,l=i.selectionEnd,c=(n?" ":"	").repeat(r);if(t.keyCode===Zu&&!s&&this.capture)if(t.preventDefault(),t.shiftKey){var m=this._getLines(o,a),g=m.length-1,x=this._getLines(o,l).length-1,_=o.split(`
`).map(function(X,fe){return fe>=g&&fe<=x&&X.startsWith(c)?X.substring(c.length):X}).join(`
`);if(o!==_){var N=m[g];this._applyEdits({value:_,selectionStart:N.startsWith(c)?a-c.length:a,selectionEnd:l-(o.length-_.length)})}}else if(a!==l){var T=this._getLines(o,a),B=T.length-1,z=this._getLines(o,l).length-1,p=T[B];this._applyEdits({value:o.split(`
`).map(function(X,fe){return fe>=B&&fe<=z?c+X:X}).join(`
`),selectionStart:/\S/.test(p)?a+c.length:a,selectionEnd:l+c.length*(z-B+1)})}else{var f=a+c.length;this._applyEdits({value:o.substring(0,a)+c+o.substring(l),selectionStart:f,selectionEnd:f})}else if(t.keyCode===Xu){var h=a!==l,y=o.substring(0,a);if(y.endsWith(c)&&!h){t.preventDefault();var w=a-c.length;this._applyEdits({value:o.substring(0,a-c.length)+o.substring(l),selectionStart:w,selectionEnd:w})}}else if(t.keyCode===Ju){if(a===l){var E=this._getLines(o,a).pop(),S=E?.match(/^\s+/);if(S&&S[0]){t.preventDefault();var A=`
`+S[0],K=a+A.length;this._applyEdits({value:o.substring(0,a)+A+o.substring(l),selectionStart:K,selectionEnd:K})}}}else if(t.keyCode===Us||t.keyCode===Hs||t.keyCode===zs||t.keyCode===Ws){var q;t.keyCode===Us&&t.shiftKey?q=["(",")"]:t.keyCode===Hs?t.shiftKey?q=["{","}"]:q=["[","]"]:t.keyCode===zs?t.shiftKey?q=['"','"']:q=["'","'"]:t.keyCode===Ws&&!t.shiftKey&&(q=["`","`"]),a!==l&&q&&(t.preventDefault(),this._applyEdits({value:o.substring(0,a)+q[0]+o.substring(a,l)+q[1]+o.substring(l),selectionStart:a,selectionEnd:l+2}))}else(pn?t.metaKey&&t.keyCode===Fr:t.ctrlKey&&t.keyCode===Fr)&&!t.shiftKey&&!t.altKey?(t.preventDefault(),this._undoEdit()):(pn?t.metaKey&&t.keyCode===Fr&&t.shiftKey:rc?t.ctrlKey&&t.keyCode===Gu:t.ctrlKey&&t.keyCode===Fr&&t.shiftKey)&&!t.altKey?(t.preventDefault(),this._redoEdit()):t.keyCode===Qu&&t.ctrlKey&&(pn?t.shiftKey:!0)&&(t.preventDefault(),this.capture=!this.capture)}}},render:function(){var t=this,r=Pt("div",{class:"prism-editor__line-width-calc",style:"height: 0px; visibility: hidden; pointer-events: none;"},"999"),n=Pt("div",{class:"prism-editor__line-numbers",style:{"min-height":this.lineNumbersHeight},"aria-hidden":"true"},[r,Array.from(Array(this.lineNumbersCount).keys()).map(function(a,l){return Pt("div",{class:"prism-editor__line-number token comment"},""+ ++l)})]),s=Pt("textarea",{ref:"textarea",onInput:this.handleChange,onKeydown:this.handleKeyDown,onClick:function(l){t.$emit("click",l)},onKeyup:function(l){t.$emit("keyup",l)},onFocus:function(l){t.$emit("focus",l)},onBlur:function(l){t.$emit("blur",l)},class:{"prism-editor__textarea":!0,"prism-editor__textarea--empty":this.isEmpty},spellCheck:"false",autocapitalize:"off",autocomplete:"off",autocorrect:"off","data-gramm":"false",placeholder:this.placeholder,"data-testid":"textarea",readonly:this.readonly,value:this.codeData}),i=Pt("pre",{ref:"pre",class:"prism-editor__editor","data-testid":"preview",innerHTML:this.content}),o=Pt("div",{class:"prism-editor__container"},[s,i]);return Pt("div",{class:"prism-editor-wrapper"},[this.lineNumbers&&n,o])}});var sc={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,o={},a={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function p(f){return f instanceof l?new l(f.type,p(f.content),f.alias):Array.isArray(f)?f.map(p):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(f,h){h=h||{};var y,w;switch(a.util.type(f)){case"Object":if(w=a.util.objId(f),h[w])return h[w];y={},h[w]=y;for(var E in f)f.hasOwnProperty(E)&&(y[E]=p(f[E],h));return y;case"Array":return w=a.util.objId(f),h[w]?h[w]:(y=[],h[w]=y,f.forEach(function(S,A){y[A]=p(S,h)}),y);default:return f}},getLanguage:function(p){for(;p;){var f=s.exec(p.className);if(f)return f[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,f){p.className=p.className.replace(RegExp(s,"gi"),""),p.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(y){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(y.stack)||[])[1];if(p){var f=document.getElementsByTagName("script");for(var h in f)if(f[h].src==p)return f[h]}return null}},isActive:function(p,f,h){for(var y="no-"+f;p;){var w=p.classList;if(w.contains(f))return!0;if(w.contains(y))return!1;p=p.parentElement}return!!h}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(p,f){var h=a.util.clone(a.languages[p]);for(var y in f)h[y]=f[y];return h},insertBefore:function(p,f,h,y){y=y||a.languages;var w=y[p],E={};for(var S in w)if(w.hasOwnProperty(S)){if(S==f)for(var A in h)h.hasOwnProperty(A)&&(E[A]=h[A]);h.hasOwnProperty(S)||(E[S]=w[S])}var K=y[p];return y[p]=E,a.languages.DFS(a.languages,function(q,X){X===K&&q!=p&&(this[q]=E)}),E},DFS:function p(f,h,y,w){w=w||{};var E=a.util.objId;for(var S in f)if(f.hasOwnProperty(S)){h.call(f,S,f[S],y||S);var A=f[S],K=a.util.type(A);K==="Object"&&!w[E(A)]?(w[E(A)]=!0,p(A,h,null,w)):K==="Array"&&!w[E(A)]&&(w[E(A)]=!0,p(A,h,S,w))}}},plugins:{},highlightAll:function(p,f){a.highlightAllUnder(document,p,f)},highlightAllUnder:function(p,f,h){var y={callback:h,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",y),y.elements=Array.prototype.slice.apply(y.container.querySelectorAll(y.selector)),a.hooks.run("before-all-elements-highlight",y);for(var w=0,E;E=y.elements[w++];)a.highlightElement(E,f===!0,y.callback)},highlightElement:function(p,f,h){var y=a.util.getLanguage(p),w=a.languages[y];a.util.setLanguage(p,y);var E=p.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,y);var S=p.textContent,A={element:p,language:y,grammar:w,code:S};function K(X){A.highlightedCode=X,a.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,a.hooks.run("after-highlight",A),a.hooks.run("complete",A),h&&h.call(A.element)}if(a.hooks.run("before-sanity-check",A),E=A.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!A.code){a.hooks.run("complete",A),h&&h.call(A.element);return}if(a.hooks.run("before-highlight",A),!A.grammar){K(a.util.encode(A.code));return}if(f&&n.Worker){var q=new Worker(a.filename);q.onmessage=function(X){K(X.data)},q.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else K(a.highlight(A.code,A.grammar,A.language))},highlight:function(p,f,h){var y={code:p,grammar:f,language:h};if(a.hooks.run("before-tokenize",y),!y.grammar)throw new Error('The language "'+y.language+'" has no grammar.');return y.tokens=a.tokenize(y.code,y.grammar),a.hooks.run("after-tokenize",y),l.stringify(a.util.encode(y.tokens),y.language)},tokenize:function(p,f){var h=f.rest;if(h){for(var y in h)f[y]=h[y];delete f.rest}var w=new g;return x(w,w.head,p),m(p,w,f,w.head,0),N(w)},hooks:{all:{},add:function(p,f){var h=a.hooks.all;h[p]=h[p]||[],h[p].push(f)},run:function(p,f){var h=a.hooks.all[p];if(!(!h||!h.length))for(var y=0,w;w=h[y++];)w(f)}},Token:l};n.Prism=a;function l(p,f,h,y){this.type=p,this.content=f,this.alias=h,this.length=(y||"").length|0}l.stringify=function p(f,h){if(typeof f=="string")return f;if(Array.isArray(f)){var y="";return f.forEach(function(K){y+=p(K,h)}),y}var w={type:f.type,content:p(f.content,h),tag:"span",classes:["token",f.type],attributes:{},language:h},E=f.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(w.classes,E):w.classes.push(E)),a.hooks.run("wrap",w);var S="";for(var A in w.attributes)S+=" "+A+'="'+(w.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+w.tag+' class="'+w.classes.join(" ")+'"'+S+">"+w.content+"</"+w.tag+">"};function c(p,f,h,y){p.lastIndex=f;var w=p.exec(h);if(w&&y&&w[1]){var E=w[1].length;w.index+=E,w[0]=w[0].slice(E)}return w}function m(p,f,h,y,w,E){for(var S in h)if(!(!h.hasOwnProperty(S)||!h[S])){var A=h[S];A=Array.isArray(A)?A:[A];for(var K=0;K<A.length;++K){if(E&&E.cause==S+","+K)return;var q=A[K],X=q.inside,fe=!!q.lookbehind,Ae=!!q.greedy,Ze=q.alias;if(Ae&&!q.pattern.global){var me=q.pattern.toString().match(/[imsuy]*$/)[0];q.pattern=RegExp(q.pattern.source,me+"g")}for(var ue=q.pattern||q,U=y.next,le=w;U!==f.tail&&!(E&&le>=E.reach);le+=U.value.length,U=U.next){var Pe=U.value;if(f.length>p.length)return;if(!(Pe instanceof l)){var Se=1,se;if(Ae){if(se=c(ue,le,p,fe),!se||se.index>=p.length)break;var Ee=se.index,Lt=se.index+se[0].length,_e=le;for(_e+=U.value.length;Ee>=_e;)U=U.next,_e+=U.value.length;if(_e-=U.value.length,le=_e,U.value instanceof l)continue;for(var He=U;He!==f.tail&&(_e<Lt||typeof He.value=="string");He=He.next)Se++,_e+=He.value.length;Se--,Pe=p.slice(le,_e),se.index-=le}else if(se=c(ue,0,Pe,fe),!se)continue;var Ee=se.index,je=se[0],it=Pe.slice(0,Ee),Je=Pe.slice(Ee+je.length),Xe=le+Pe.length;E&&Xe>E.reach&&(E.reach=Xe);var ze=U.prev;it&&(ze=x(f,ze,it),le+=it.length),_(f,ze,Se);var d=new l(S,X?a.tokenize(je,X):je,Ze,je);if(U=x(f,ze,d),Je&&x(f,U,Je),Se>1){var v={cause:S+","+K,reach:Xe};m(p,f,h,U.prev,le,v),E&&v.reach>E.reach&&(E.reach=v.reach)}}}}}}function g(){var p={value:null,prev:null,next:null},f={value:null,prev:p,next:null};p.next=f,this.head=p,this.tail=f,this.length=0}function x(p,f,h){var y=f.next,w={value:h,prev:f,next:y};return f.next=w,y.prev=w,p.length++,w}function _(p,f,h){for(var y=f.next,w=0;w<h&&y!==p.tail;w++)y=y.next;f.next=y,y.prev=f,p.length-=w}function N(p){for(var f=[],h=p.head.next;h!==p.tail;)f.push(h.value),h=h.next;return f}if(!n.document)return n.addEventListener&&(a.disableWorkerMessageHandler||n.addEventListener("message",function(p){var f=JSON.parse(p.data),h=f.language,y=f.code,w=f.immediateClose;n.postMessage(a.highlight(y,a.languages[h],h)),w&&n.close()},!1)),a;var T=a.util.currentScript();T&&(a.filename=T.src,T.hasAttribute("data-manual")&&(a.manual=!0));function B(){a.manual||a.highlightAll()}if(!a.manual){var z=document.readyState;z==="loading"||z==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",B):window.requestAnimationFrame?window.requestAnimationFrame(B):window.setTimeout(B,16)}return a}(t);e.exports&&(e.exports=r),typeof Ye<"u"&&(Ye.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(s,i){var o={};o["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[i]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};a["language-"+i]={pattern:/[\s\S]+/,inside:r.languages[i]};var l={};l[s]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return s}),"i"),lookbehind:!0,greedy:!0,inside:a},r.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,s){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[s,"language-"+s],inside:r.languages[s]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var s=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+s.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+s.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+s.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+s.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:s,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var i=n.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",s=function(T,B){return"\u2716 Error "+T+" while fetching file: "+B},i="\u2716 Error: File does not exist or is empty",o={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},a="data-src-status",l="loading",c="loaded",m="failed",g="pre[data-src]:not(["+a+'="'+c+'"]):not(['+a+'="'+l+'"])';function x(T,B,z){var p=new XMLHttpRequest;p.open("GET",T,!0),p.onreadystatechange=function(){p.readyState==4&&(p.status<400&&p.responseText?B(p.responseText):p.status>=400?z(s(p.status,p.statusText)):z(i))},p.send(null)}function _(T){var B=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(T||"");if(B){var z=Number(B[1]),p=B[2],f=B[3];return p?f?[z,Number(f)]:[z,void 0]:[z,z]}}r.hooks.add("before-highlightall",function(T){T.selector+=", "+g}),r.hooks.add("before-sanity-check",function(T){var B=T.element;if(B.matches(g)){T.code="",B.setAttribute(a,l);var z=B.appendChild(document.createElement("CODE"));z.textContent=n;var p=B.getAttribute("data-src"),f=T.language;if(f==="none"){var h=(/\.(\w+)$/.exec(p)||[,"none"])[1];f=o[h]||h}r.util.setLanguage(z,f),r.util.setLanguage(B,f);var y=r.plugins.autoloader;y&&y.loadLanguages(f),x(p,function(w){B.setAttribute(a,c);var E=_(B.getAttribute("data-range"));if(E){var S=w.split(/\r\n?|\n/g),A=E[0],K=E[1]==null?S.length:E[1];A<0&&(A+=S.length),A=Math.max(0,Math.min(A-1,S.length)),K<0&&(K+=S.length),K=Math.max(0,Math.min(K,S.length)),w=S.slice(A,K).join(`
`),B.hasAttribute("data-start")||B.setAttribute("data-start",String(A+1))}z.textContent=w,r.highlightElement(z)},function(w){B.setAttribute(a,m),z.textContent=w})}}),r.plugins.fileHighlight={highlight:function(B){for(var z=(B||document).querySelectorAll(g),p=0,f;f=z[p++];)r.highlightElement(f)}};var N=!1;r.fileHighlight=function(){N||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),N=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(sc);var In={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var s=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,o={},a={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function p(f){return f instanceof l?new l(f.type,p(f.content),f.alias):Array.isArray(f)?f.map(p):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(p){return Object.prototype.toString.call(p).slice(8,-1)},objId:function(p){return p.__id||Object.defineProperty(p,"__id",{value:++i}),p.__id},clone:function p(f,h){h=h||{};var y,w;switch(a.util.type(f)){case"Object":if(w=a.util.objId(f),h[w])return h[w];y={},h[w]=y;for(var E in f)f.hasOwnProperty(E)&&(y[E]=p(f[E],h));return y;case"Array":return w=a.util.objId(f),h[w]?h[w]:(y=[],h[w]=y,f.forEach(function(S,A){y[A]=p(S,h)}),y);default:return f}},getLanguage:function(p){for(;p;){var f=s.exec(p.className);if(f)return f[1].toLowerCase();p=p.parentElement}return"none"},setLanguage:function(p,f){p.className=p.className.replace(RegExp(s,"gi"),""),p.classList.add("language-"+f)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(y){var p=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(y.stack)||[])[1];if(p){var f=document.getElementsByTagName("script");for(var h in f)if(f[h].src==p)return f[h]}return null}},isActive:function(p,f,h){for(var y="no-"+f;p;){var w=p.classList;if(w.contains(f))return!0;if(w.contains(y))return!1;p=p.parentElement}return!!h}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(p,f){var h=a.util.clone(a.languages[p]);for(var y in f)h[y]=f[y];return h},insertBefore:function(p,f,h,y){y=y||a.languages;var w=y[p],E={};for(var S in w)if(w.hasOwnProperty(S)){if(S==f)for(var A in h)h.hasOwnProperty(A)&&(E[A]=h[A]);h.hasOwnProperty(S)||(E[S]=w[S])}var K=y[p];return y[p]=E,a.languages.DFS(a.languages,function(q,X){X===K&&q!=p&&(this[q]=E)}),E},DFS:function p(f,h,y,w){w=w||{};var E=a.util.objId;for(var S in f)if(f.hasOwnProperty(S)){h.call(f,S,f[S],y||S);var A=f[S],K=a.util.type(A);K==="Object"&&!w[E(A)]?(w[E(A)]=!0,p(A,h,null,w)):K==="Array"&&!w[E(A)]&&(w[E(A)]=!0,p(A,h,S,w))}}},plugins:{},highlightAll:function(p,f){a.highlightAllUnder(document,p,f)},highlightAllUnder:function(p,f,h){var y={callback:h,container:p,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",y),y.elements=Array.prototype.slice.apply(y.container.querySelectorAll(y.selector)),a.hooks.run("before-all-elements-highlight",y);for(var w=0,E;E=y.elements[w++];)a.highlightElement(E,f===!0,y.callback)},highlightElement:function(p,f,h){var y=a.util.getLanguage(p),w=a.languages[y];a.util.setLanguage(p,y);var E=p.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,y);var S=p.textContent,A={element:p,language:y,grammar:w,code:S};function K(X){A.highlightedCode=X,a.hooks.run("before-insert",A),A.element.innerHTML=A.highlightedCode,a.hooks.run("after-highlight",A),a.hooks.run("complete",A),h&&h.call(A.element)}if(a.hooks.run("before-sanity-check",A),E=A.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!A.code){a.hooks.run("complete",A),h&&h.call(A.element);return}if(a.hooks.run("before-highlight",A),!A.grammar){K(a.util.encode(A.code));return}if(f&&n.Worker){var q=new Worker(a.filename);q.onmessage=function(X){K(X.data)},q.postMessage(JSON.stringify({language:A.language,code:A.code,immediateClose:!0}))}else K(a.highlight(A.code,A.grammar,A.language))},highlight:function(p,f,h){var y={code:p,grammar:f,language:h};if(a.hooks.run("before-tokenize",y),!y.grammar)throw new Error('The language "'+y.language+'" has no grammar.');return y.tokens=a.tokenize(y.code,y.grammar),a.hooks.run("after-tokenize",y),l.stringify(a.util.encode(y.tokens),y.language)},tokenize:function(p,f){var h=f.rest;if(h){for(var y in h)f[y]=h[y];delete f.rest}var w=new g;return x(w,w.head,p),m(p,w,f,w.head,0),N(w)},hooks:{all:{},add:function(p,f){var h=a.hooks.all;h[p]=h[p]||[],h[p].push(f)},run:function(p,f){var h=a.hooks.all[p];if(!(!h||!h.length))for(var y=0,w;w=h[y++];)w(f)}},Token:l};n.Prism=a;function l(p,f,h,y){this.type=p,this.content=f,this.alias=h,this.length=(y||"").length|0}l.stringify=function p(f,h){if(typeof f=="string")return f;if(Array.isArray(f)){var y="";return f.forEach(function(K){y+=p(K,h)}),y}var w={type:f.type,content:p(f.content,h),tag:"span",classes:["token",f.type],attributes:{},language:h},E=f.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(w.classes,E):w.classes.push(E)),a.hooks.run("wrap",w);var S="";for(var A in w.attributes)S+=" "+A+'="'+(w.attributes[A]||"").replace(/"/g,"&quot;")+'"';return"<"+w.tag+' class="'+w.classes.join(" ")+'"'+S+">"+w.content+"</"+w.tag+">"};function c(p,f,h,y){p.lastIndex=f;var w=p.exec(h);if(w&&y&&w[1]){var E=w[1].length;w.index+=E,w[0]=w[0].slice(E)}return w}function m(p,f,h,y,w,E){for(var S in h)if(!(!h.hasOwnProperty(S)||!h[S])){var A=h[S];A=Array.isArray(A)?A:[A];for(var K=0;K<A.length;++K){if(E&&E.cause==S+","+K)return;var q=A[K],X=q.inside,fe=!!q.lookbehind,Ae=!!q.greedy,Ze=q.alias;if(Ae&&!q.pattern.global){var me=q.pattern.toString().match(/[imsuy]*$/)[0];q.pattern=RegExp(q.pattern.source,me+"g")}for(var ue=q.pattern||q,U=y.next,le=w;U!==f.tail&&!(E&&le>=E.reach);le+=U.value.length,U=U.next){var Pe=U.value;if(f.length>p.length)return;if(!(Pe instanceof l)){var Se=1,se;if(Ae){if(se=c(ue,le,p,fe),!se||se.index>=p.length)break;var Ee=se.index,Lt=se.index+se[0].length,_e=le;for(_e+=U.value.length;Ee>=_e;)U=U.next,_e+=U.value.length;if(_e-=U.value.length,le=_e,U.value instanceof l)continue;for(var He=U;He!==f.tail&&(_e<Lt||typeof He.value=="string");He=He.next)Se++,_e+=He.value.length;Se--,Pe=p.slice(le,_e),se.index-=le}else if(se=c(ue,0,Pe,fe),!se)continue;var Ee=se.index,je=se[0],it=Pe.slice(0,Ee),Je=Pe.slice(Ee+je.length),Xe=le+Pe.length;E&&Xe>E.reach&&(E.reach=Xe);var ze=U.prev;it&&(ze=x(f,ze,it),le+=it.length),_(f,ze,Se);var d=new l(S,X?a.tokenize(je,X):je,Ze,je);if(U=x(f,ze,d),Je&&x(f,U,Je),Se>1){var v={cause:S+","+K,reach:Xe};m(p,f,h,U.prev,le,v),E&&v.reach>E.reach&&(E.reach=v.reach)}}}}}}function g(){var p={value:null,prev:null,next:null},f={value:null,prev:p,next:null};p.next=f,this.head=p,this.tail=f,this.length=0}function x(p,f,h){var y=f.next,w={value:h,prev:f,next:y};return f.next=w,y.prev=w,p.length++,w}function _(p,f,h){for(var y=f.next,w=0;w<h&&y!==p.tail;w++)y=y.next;f.next=y,y.prev=f,p.length-=w}function N(p){for(var f=[],h=p.head.next;h!==p.tail;)f.push(h.value),h=h.next;return f}if(!n.document)return n.addEventListener&&(a.disableWorkerMessageHandler||n.addEventListener("message",function(p){var f=JSON.parse(p.data),h=f.language,y=f.code,w=f.immediateClose;n.postMessage(a.highlight(y,a.languages[h],h)),w&&n.close()},!1)),a;var T=a.util.currentScript();T&&(a.filename=T.src,T.hasAttribute("data-manual")&&(a.manual=!0));function B(){a.manual||a.highlightAll()}if(!a.manual){var z=document.readyState;z==="loading"||z==="interactive"&&T&&T.defer?document.addEventListener("DOMContentLoaded",B):window.requestAnimationFrame?window.requestAnimationFrame(B):window.setTimeout(B,16)}return a}(t);e.exports&&(e.exports=r),typeof Ye<"u"&&(Ye.Prism=r)})(In);Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));Prism.languages.js=Prism.languages.javascript;const ic={id:"root"},ac={id:"grid1"},oc={id:"editor",class:"container"},lc={key:0,class:"syntaxError"},uc={id:"logs",class:"container"},cc=he("header",null,"Output",-1),fc={class:"type"},hc={id:"grid2"},pc={id:"ast",class:"container"},dc=he("header",null,"AST",-1),gc=he("div",{id:"bin",class:"container"},[he("header",null,"Bytecode"),he("div")],-1),mc=he("div",{id:"debugger",class:"container"},[he("header",null,"Debugger"),he("div")],-1),vc={__name:"App",setup(e){const t=Cr(window.localStorage.getItem("script")||'<: "Hello, AiScript!"'),r=Cr(null),n=Cr([]),s=Cr(null);Sr(t,()=>{window.localStorage.setItem("script",t.value);try{r.value=qt.parse(t.value),s.value=null}catch(c){s.value=c.message,console.error(c.info);return}},{immediate:!0});const i=()=>{t.value=`for (let i, 100) {
  <: if (i % 15 == 0) "FizzBuzz"
    elif (i % 3 == 0) "Fizz"
    elif (i % 5 == 0) "Buzz"
    else i
}`};let o=null;const a=async()=>{n.value=[],o?.abort(),o=new Ie({},{in:c=>new Promise(m=>{const g=window.prompt(c);m(g)}),out:c=>{n.value.push({id:Math.random(),type:c.type,text:c.type==="str"||c.type==="num"?c.value:Mn(c),print:!0})},err:c=>{window.alert(c.toString())},log:(c,m)=>{switch(c){case"end":n.value.push({id:Math.random(),text:Mn(m.val,!0),print:!1});break}}});try{await o.exec(r.value)}catch(c){console.error(c),window.alert("Internal Error: "+c)}},l=c=>In.exports.highlight(c,In.exports.languages.js,"javascript");return(c,m)=>(lr(),Pr("div",ic,[he("h1",null,"AiScript (v"+sr(xn(Vi))+") Playground",1),he("div",ac,[he("div",oc,[he("header",null,[kn("Input"),he("div",{class:"actions"},[he("button",{onClick:i},"FizzBuzz")])]),he("div",null,[qe(xn(nc),{class:"code",modelValue:t.value,"onUpdate:modelValue":m[0]||(m[0]=g=>t.value=g),highlight:l,"line-numbers":!1},null,8,["modelValue"])]),he("footer",null,[s.value?(lr(),Pr("span",lc,sr(s.value),1)):Zo("",!0),he("div",{class:"actions"},[he("button",{onClick:a},"RUN")])])]),he("div",uc,[cc,he("div",null,[(lr(!0),Pr(lt,null,ko(n.value,g=>(lr(),Pr("div",{class:Wr(["log",[{print:g.print},g.type]]),key:g.id},[he("span",fc,sr(g.type),1),kn(" "+sr(g.text),1)],2))),128))])])]),he("div",hc,[he("div",pc,[dc,he("div",null,[he("pre",null,sr(JSON.stringify(r.value,null,"	")),1)])]),gc,mc])]))}};Ml(vc).mount("#app");
